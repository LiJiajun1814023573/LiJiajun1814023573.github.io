{"meta":{"title":"é’å±±å…¥æˆ‘æ€€","subtitle":null,"description":"å°”å…¥æˆ‘æ¢¦æ¥","author":"LiJiajun","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®hojun] ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"categories","date":"2020-07-03T01:45:35.000Z","updated":"2020-07-03T01:46:24.359Z","comments":true,"path":"categories/index.html","permalink":"/categories/index.html","excerpt":"","text":""},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-07-03T11:47:24.478Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"How browser works å“è¯»(ä¸€)","slug":"æµè§ˆå™¨åŸç†(ä¸€)","date":"2020-11-05T04:09:35.627Z","updated":"2020-11-05T04:14:12.175Z","comments":true,"path":"2020/11/05/æµè§ˆå™¨åŸç†(ä¸€)/","link":"","permalink":"/2020/11/05/æµè§ˆå™¨åŸç†(ä¸€)/","excerpt":"","text":"How browser works å“è¯»(ä¸€)å¥½ä¹…æ²¡æœ‰å†™åšå®¢äº†ï¼Œå› ä¸ºå®åœ¨æ„Ÿè§‰å‰ç«¯å†…å®¹è¿‡äºçç¢ï¼Œäºæ˜¯æ²¡æœ‰å‘è¡¨ï¼Œæ­£å¥½ä¹‹å‰åŒ…æ‹¬ç›®å‰åœ¨æŒç»­å­¦ä¹ æµè§ˆå™¨åŸç†ç›¸å…³çš„å†…å®¹ï¼Œè¿™ç¯‡æ–‡ç« ä¸ºäº†æ–¹ä¾¿è®°å½•ç¬”è€…é˜…è¯»â€™How browser worksâ€™è¿‡ç¨‹ä¸­çš„æ€è€ƒã€‚ ä¸ªäººæ„Ÿå—è¯»å®Œå…¨ç¯‡â€™How browser worksâ€™,å¯çŸ¥è¿™ç¯‡æ–‡ç« é¦–å…ˆæ˜¯ç«™åœ¨æµè§ˆå™¨çš„é«˜å±‚ç»“æ„(high level structure)ï¼Œä¸ºæˆ‘ä»¬ä»‹ç»äº†æµè§ˆå™¨çš„ç»„ä»¶(æŠ½è±¡æ„æˆ),è€Œä½œè€…çš„ä¸»è¦ç²¾åŠ›æ”¾åœ¨ä»‹ç»æµè§ˆå™¨ä¸­rendering engineçš„å·¥ä½œã€‚æ˜¯çš„ï¼Œæ¸²æŸ“å¼•æ“è‡ªç„¶æ˜¯å¯¹äºæµè§ˆå™¨ç‰¹åˆ«é‡è¦çš„ä¸€ä¸ªç»„ä»¶ï¼Œæ–‡ç« å¯¹äºParse HTML, parse CSSä»¥åŠconstructor render treeç­‰rendering engineçš„å·¥ä½œéƒ½å¾ˆç»†è‡´ï¼Œå¯¹äºä¸€èˆ¬çš„å‰ç«¯å¼€å‘äººå‘˜ï¼Œå¯ä»¥è¯´å·²ç»å¾ˆåº•å±‚äº†ã€‚ ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æ–‡ç« å¯¹äºæ¸²æŸ“å¼•æ“è¿™ä¸€éƒ¨åˆ†çš„ä»‹ç»æ¯”è¾ƒå……åˆ†,ä¹Ÿä¼šæ¯”è¾ƒä¸¤å¤§ä¸»æµæµè§ˆå™¨Chomreä»¥åŠFirefoxåœ¨ç›¸å…³åŠŸèƒ½å®ç°é‡‡ç”¨çš„ç»†å¾®å·®å¼‚,ä½†æ˜¯æ–‡ç« å¯¹äºæ•´ä¸ªæµè§ˆå™¨æ¶æ„ï¼Œè¿›ç¨‹æ¶æ„å¹¶æ²¡æœ‰å……åˆ†çš„ä»‹ç»ã€‚ ç”±äºè¿™ä¸€ç‚¹ï¼Œå®¹æ˜“å¯¼è‡´å¼€å‘äººå‘˜å¯¹æµè§ˆå™¨çš„è®¤è¯†äº§ç”Ÿåå·®ã€‚å¯¹äºè¿™ä¸€éƒ¨åˆ†çš„å†…å®¹,æˆ‘ä¼šåœ¨ä»¥åçš„æ–‡ç« ä¸­å½’çº³æ€»ç»“ï¼ŒåŒæ—¶æå‡ºè‡ªå·±çš„è¿‡ç¨‹ã€‚åŒæ—¶è¿™ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œæˆ‘çš„æ€»ç»“ä¼šä¿ç•™å…¶ä¸»è¦é€»è¾‘ã€‚ æµè§ˆå™¨é«˜å±‚ç»“æ„(high lever structure)æµè§ˆå™¨çš„ä¸»è¦ç»„ä»¶ 1.ç”¨æˆ·ç•Œé¢(The user interface):åŒ…æ‹¬åœ°å€æ ã€å‰è¿›/åé€€æŒ‰é’®ã€ä¹¦ç­¾èœå•ç­‰ã€‚é™¤äº†æµè§ˆå™¨ä¸»çª—å£æ˜¾ç¤ºçš„æ‚¨è¯·æ±‚çš„é¡µé¢å¤–ï¼Œå…¶ä»–æ˜¾ç¤ºçš„å„ä¸ªéƒ¨åˆ†éƒ½å±äºç”¨æˆ·ç•Œé¢ã€‚ 2.æµè§ˆå™¨å¼•æ“(The browser engine):åœ¨ç”¨æˆ·ç•Œé¢å’Œå‘ˆç°å¼•æ“ä¹‹é—´ä¼ é€æŒ‡ä»¤ 3.å‘ˆç°å¼•æ“(The rendering engine)è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ã€‚å¦‚æœè¯·æ±‚çš„å†…å®¹æ˜¯ HTMLï¼Œå®ƒå°±è´Ÿè´£è§£æ HTML å’Œ CSS å†…å®¹ï¼Œå¹¶å°†è§£æåçš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ 4.ç½‘ç»œ(Networking)ç”¨äºç½‘ç»œè°ƒç”¨ï¼Œæ¯”å¦‚ HTTP è¯·æ±‚ã€‚å…¶æ¥å£ä¸å¹³å°æ— å…³ï¼Œå¹¶ä¸ºæ‰€æœ‰å¹³å°æä¾›åº•å±‚å®ç°ã€‚ 5.ç”¨æˆ·é¡µé¢åç«¯(UI backend)ç”¨äºç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ï¼Œæ¯”å¦‚ç»„åˆæ¡†å’Œçª—å£ã€‚å…¶å…¬å¼€äº†ä¸å¹³å°æ— å…³çš„é€šç”¨æ¥å£ï¼Œè€Œåœ¨åº•å±‚ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢æ–¹æ³•ã€‚ 6.JSè§£é‡Šå™¨(JavaScript interpreter)ç”¨äºè§£æå’Œæ‰§è¡Œ JavaScript ä»£ç ã€‚ 7.æ•°æ®å­˜å‚¨(Data storage)è¿™æ˜¯æŒä¹…å±‚ã€‚æµè§ˆå™¨éœ€è¦åœ¨ç¡¬ç›˜ä¸Šä¿å­˜å„ç§æ•°æ®ï¼Œä¾‹å¦‚ Cookieã€‚æ–°çš„ HTML è§„èŒƒ (HTML5) å®šä¹‰äº†â€œç½‘ç»œæ•°æ®åº“â€ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ï¼ˆä½†æ˜¯è½»ä¾¿ï¼‰çš„æµè§ˆå™¨å†…æ•°æ®åº“ã€‚ æ–‡ç« å¯¹äºæµè§ˆå™¨çš„ç»„ä»¶å½’çº³æ˜¯åŸºäºåŠŸèƒ½å‡ºå‘ï¼Œå¹¶ä¸è¯´æ˜æµè§ˆå™¨çš„ç»“æ„å±‚çº§æ˜¯å¦‚ä½•çš„ï¼Œæ›´å¤šçš„æ˜¯ä¸ºäº†æè¿°æµè§ˆå™¨çš„åŠŸèƒ½ã€‚ æ–‡ç« æåˆ°Chrome æµè§ˆå™¨çš„æ¯ä¸ªæ ‡ç­¾é¡µéƒ½åˆ†åˆ«å¯¹åº”ä¸€ä¸ªå‘ˆç°å¼•æ“å®ä¾‹ã€‚æ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚åŸæ–‡æ˜¯: It is important to note that Chrome, unlike most browsers, holds multiple instances of the rendering engine - one for each tab,. Each tab is a separate process. æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚ä»Šçš„Chromeå¯¹äºæ¸²æŸ“è¿›ç¨‹çš„å®‰æ’å¹¶ä¸åƒæ–‡ä¸­æåˆ°çš„é‚£ä¹ˆç®€å•ï¼Œâ€Each tab is a separate processâ€,è¿™é‡Œæœ‰ä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸‹æ–‡ç»„çš„æ¦‚å¿µï¼Œå¯èƒ½åé¢çš„æ–‡ç« æˆ‘ä¼šè¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œä½ åªéœ€è¦ç†è§£ä¸ºé¡µé¢é€šè¿‡å¼•ç”¨æ–¹å¼ä¸å¦ä¸€ä¸ªé¡µé¢å…³è”ï¼Œåˆ™å®ƒä»¬å¤„äºåŒä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸‹æ–‡ç»„ä¸­ï¼Œå¤„äºåŒä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸‹æ–‡ç»„ä¸­çš„é¡µé¢,åŒæ—¶å®ƒä»¬åˆåŒåŸŸï¼Œåˆ™å®ƒä»¬ä¼šå…±äº«ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚ ç„¶è€Œæœ¬æ–‡çš„é‡ç‚¹å¹¶ä¸æ˜¯è¿™ä¸ªï¼Œè€Œæ˜¯è¯¦ç»†çš„åˆ†æäº†render engineåšçš„å·¥ä½œï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå‘ç°äº†æœ¬æ–‡å¹¶ä¸èƒ½ä½¿å¾—æˆ‘ä»¬åœ¨å…¨å±€è§†è§’ç†è§£æµè§ˆå™¨çš„å·¥ä½œåŸç†ã€‚ æ¸²æŸ“å¼•æ“(The rendering engine)è¿™ä¸€éƒ¨åˆ†æˆ‘é¦–å…ˆä¸ºä½ æ¦‚æ‹¬ä¸€ä¸‹æ–‡ç« çš„ä¸»è¦é€»è¾‘ã€‚rendering engineçš„å·¥ä½œæ¦‚æ‹¬æ¥è¯´å°±æ˜¯å‘ˆç°è¯·æ±‚æ¥çš„å†…å®¹ã€‚æ–‡ç« ä»rendering engineçš„å·¥ä½œæµ(basic flow)å…¥æ‰‹ï¼Œä¸»è¦ä»‹ç»äº†å››ä¸ªæ­¥éª¤çš„ç»†èŠ‚æ“ä½œã€‚ é¦–å…ˆæ˜¯Parsing HTML to construct the DOM treeç„¶åæ˜¯Render tree constructionä»¥åŠLayout of the render treePainting the render tree. å¼•ç”¨ä¸€ä¸‹ä¸»æµç¨‹éƒ¨åˆ†çš„ä¸€æ®µä¸­æ–‡ç¿»è¯‘: å‘ˆç°å¼•æ“ä¸€å¼€å§‹ä¼šä»ç½‘ç»œå±‚è·å–è¯·æ±‚æ–‡æ¡£çš„å†…å®¹ï¼Œå†…å®¹çš„å¤§å°ä¸€èˆ¬é™åˆ¶åœ¨ 8000 ä¸ªå—ä»¥å†…ã€‚ å‘ˆç°å¼•æ“å°†å¼€å§‹è§£æ HTML æ–‡æ¡£ï¼Œå¹¶å°†å„æ ‡è®°é€ä¸ªè½¬åŒ–æˆâ€œå†…å®¹æ ‘â€ä¸Šçš„ DOM èŠ‚ç‚¹ã€‚åŒæ—¶ä¹Ÿä¼šè§£æå¤–éƒ¨ CSS æ–‡ä»¶ä»¥åŠæ ·å¼å…ƒç´ ä¸­çš„æ ·å¼æ•°æ®ã€‚HTML ä¸­è¿™äº›å¸¦æœ‰è§†è§‰æŒ‡ä»¤çš„æ ·å¼ä¿¡æ¯å°†ç”¨äºåˆ›å»ºå¦ä¸€ä¸ªæ ‘ç»“æ„ï¼šå‘ˆç°æ ‘ã€‚ å‘ˆç°æ ‘åŒ…å«å¤šä¸ªå¸¦æœ‰è§†è§‰å±æ€§ï¼ˆå¦‚é¢œè‰²å’Œå°ºå¯¸ï¼‰çš„çŸ©å½¢ã€‚è¿™äº›çŸ©å½¢çš„æ’åˆ—é¡ºåºå°±æ˜¯å®ƒä»¬å°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„é¡ºåºã€‚ å‘ˆç°æ ‘æ„å»ºå®Œæ¯•ä¹‹åï¼Œè¿›å…¥â€œå¸ƒå±€â€å¤„ç†é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ªåº”å‡ºç°åœ¨å±å¹•ä¸Šçš„ç¡®åˆ‡åæ ‡ã€‚ä¸‹ä¸€ä¸ªé˜¶æ®µæ˜¯ç»˜åˆ¶ - å‘ˆç°å¼•æ“ä¼šéå†å‘ˆç°æ ‘ï¼Œç”±ç”¨æˆ·ç•Œé¢åç«¯å±‚å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å‡ºæ¥ã€‚ éœ€è¦ç€é‡æŒ‡å‡ºçš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ã€‚ä¸ºè¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå‘ˆç°å¼•æ“ä¼šåŠ›æ±‚å°½å¿«å°†å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚å®ƒä¸å¿…ç­‰åˆ°æ•´ä¸ª HTML æ–‡æ¡£è§£æå®Œæ¯•ä¹‹åï¼Œå°±ä¼šå¼€å§‹æ„å»ºå‘ˆç°æ ‘å’Œè®¾ç½®å¸ƒå±€ã€‚åœ¨ä¸æ–­æ¥æ”¶å’Œå¤„ç†æ¥è‡ªç½‘ç»œçš„å…¶ä½™å†…å®¹çš„åŒæ—¶ï¼Œå‘ˆç°å¼•æ“ä¼šå°†éƒ¨åˆ†å†…å®¹è§£æå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚ å·¥ä½œæµä¸­æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯Webkitä¸­çš„Render Tree(Geckoç§°ä¸ºFrame Tree),æ˜¯ç”±Render Objectsç»„æˆçš„,Chromeä¸­çš„layoutä¸Geckoæè¿°çš„Reflowæ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œattachmentæ˜¯Webkitæè¿°å°†DOM nodesä¸å¯è§†ä¿¡æ¯visial informationè¿›è¡Œconnectåˆ›å»ºDOMæ ‘çš„è¿‡ç¨‹ï¼Œéœ€è¦æ³¨æ„çš„attachè¿‡ç¨‹ä½œç”¨äºRender Objectçš„è€Œä¸æ˜¯æ•´ä¸ªRender Tree. éšåæˆ‘ä¼šç”¨ä¸€ç¯‡æ–‡ç« è¯¦ç»†çš„ä»‹ç»Parsing HTMLçš„è¿‡ç¨‹ä»¥åŠæ–‡ä¸­æåˆ°çš„ç»†èŠ‚ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"/tags/æµè§ˆå™¨/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"webGLç¼“å†²åŒº","slug":"WebGLç¼“å†²åŒº","date":"2020-11-05T03:57:11.580Z","updated":"2020-11-05T03:59:41.730Z","comments":true,"path":"2020/11/05/WebGLç¼“å†²åŒº/","link":"","permalink":"/2020/11/05/WebGLç¼“å†²åŒº/","excerpt":"","text":"WebGLç¼“å†²åŒºä½¿ç”¨ä¸ºä»€ä¹ˆéœ€è¦ç¼“å†²åŒº?é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç™½,ä¸ºä»€ä¹ˆéœ€è¦ç¼“å†²åŒºï¼Œå› ä¸ºå½“æˆ‘ä»¬ç¼–å†™ç¨‹åºæ—¶ï¼Œæ˜¯éœ€è¦ç»™ç€è‰²å™¨ä¼ é€’é¡¶ç‚¹æ•°æ®çš„ï¼Œè€Œå½“ä¼ é€’çš„é¡¶ç‚¹æ•°æ®ä¸æ­¢ä¸€ä¸ªï¼Œå°±éœ€è¦å€ŸåŠ©ç¼“å†²åŒºï¼Œç»™ç€è‰²å™¨ä¼ é€’å¤šä¸ªé¡¶ç‚¹æ•°æ®ã€‚å½“ç„¶æˆ‘ä»¬éœ€è¦æ˜ç™½ï¼ŒGPUæ‰§è¡Œç€è‰²å™¨ç¨‹åºçš„è¿‡ç¨‹æ˜¯å¹¶è¡Œçš„ï¼Œæˆ‘ä»¬æ€»ä¸å¯èƒ½å°†å¤šä¸ªé¡¶ç‚¹åˆ†åˆ«ä¼ å…¥ç€è‰²å™¨ç¨‹åºï¼Œç„¶ååˆ†åˆ«è¿è¡Œï¼Œå…³äºå…¶ä¸­çš„å¹¶è¡Œå¤„ç†æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨ä»‹ç»å®Œåˆ›å»ºç¼“å†²åŒºä»¥åŠç»‘å®šç¼“å†²åŒºï¼Œé…ç½®å˜é‡ä»ç¼“å†²åŒºè¯»å–æ•°æ®ä¹‹åè¿›è¡Œä»‹ç»ã€‚ Process// positionsæ˜¯é¡¶ç‚¹æ•°æ® // æ‰¾åˆ°ç€è‰²å™¨ç¨‹åºä¸­positionå¯¹åº”å˜é‡çš„æŒ‡é’ˆ var a_Position = gl.getAttribLocation(program, &#39;position&#39;); // ä¸‹é¢é€šè¿‡ç¼“å†²åŒºç»™ç€è‰²å™¨ä¼ é€’å¤šä¸ªé¡¶ç‚¹æ•°æ® // 1.åˆ›å»ºç¼“å†²åŒº var buffer = gl.createBuffer(); 2.ç»‘å®šè¯¥ç¼“å†²åŒºä¸ºWebGLå½“å‰ç¼“å†²åŒºgl.ARRAY_BUFFER gl.bindBuffer(gl.ARRAY_BUFFER, buffer); 3.ç»™ç»‘å®šçš„ç¼“å†²åŒºä¼ é€’data gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW); ç€è‰²å™¨ä¸­çš„å˜é‡éœ€è¦ä½¿ç”¨å¼ºç±»å‹æ•°æ®ï¼Œå› æ­¤ä½¿ç”¨jsä¸­çš„typedArrayè¿›è¡Œè½¬åŒ–.è€ŒSTATIC_DRAWè¡¨ç¤ºæç¤ºWebGLæˆ‘ä»¬ä¸ä¼šé¢‘ç¹æ”¹å˜ç¼“å†²åŒºçš„æ•°æ®ï¼Œä¾¿äºWebGLåšä¼˜åŒ–å¤„ç†ã€‚ 4.å¯ç”¨å±æ€§ä½¿å¾—a_Positionå±æ€§èƒ½å¤Ÿä»ç¼“å†²åŒºè¯»å–æ•°æ® gl.enableVertexAttribArray(a_Position); 5.è®¾ç½®ä»ç¼“å†²åŒºè¯»å–æ•°æ®çš„æ–¹å¼ // æ¯æ¬¡å–ä¸¤ä¸ªæ•°æ® var size = 2; // æ¯ä¸ªæ•°æ®çš„ç±»å‹æ˜¯32æµ®ç‚¹æ•° var type = gl.FLOAT; // ä¸éœ€è¦å½’ä¸€åŒ–å¤„ç†æ•°æ® var normalize = false; // æ¯æ¬¡è¿­ä»£è¿è¡Œéœ€è¦ç§»åŠ¨æ•°æ®æ•° * æ¯ä¸ªæ•°æ®æ‰€å å†…å­˜ åˆ°ä¸‹ä¸€ä¸ªæ•°æ®å¼€å§‹ var stride = 0; // ä»ç¼“å†²èµ·å§‹ä½ç½®å¼€å§‹è¯»å– var offset = 0; // å°†a_Positionå˜é‡è¯»å–æ•°æ®çš„ç¼“å†²åŒºæŒ‡å®šä¸ºå½“å‰ç»‘å®šçš„buffer gl.vertexAttribPointer( a_Position, size, type, normalize, stride, offset ) åŒæ—¶ï¼Œæˆ‘ä»¬çš„a_Positionå±æ€§(åº”è¯¥è¯´æ˜¯æŒ‡é’ˆ)ç»‘å®šäº†å½“å‰çš„ç¼“å†²åŒºï¼Œå› æ­¤åœ¨é‡æ–°ä½¿ç”¨bindBUfferç»‘å®šgl.ARRAY_BUFFERåˆ°å…¶å®ƒç¼“å†²åŒºä¸Šæ—¶ï¼Œæˆ‘ä»¬çš„a_Positionåªèƒ½ä»å½“å‰ç¼“å†²åŒºè¯»å–æ•°æ®ã€‚ gl.vertexAttribPointer(tar, size ,type, normalize, stride, offset)è§£é‡Šä¸€ä¸‹è¿™ä¸ªå‡½æ•°åšäº†ä»€ä¹ˆ:å®ƒå°†å†³å®šç›®æ ‡å±æ€§æ˜¯å¦‚ä½•ä»ç¼“å†²åŒºè¯»å–æ•°æ®çš„å„å‚æ•°çš„æ„ä¹‰ target: å…è®¸å“ªä¸ªå±æ€§è¯»å–å½“å‰ç¼“å†²åŒºçš„æ•°æ® size: ä¸€æ¬¡å–å‡ ä¸ªæ•°æ®èµ‹å€¼ç»™target,éœ€è¦è¯´æ˜çš„æ˜¯æˆ‘ä»¬çš„ç¼“å†²åŒºæ˜¯æä¾›ç»™æ‰€æœ‰çš„é¡¶ç‚¹ç€è‰²å™¨ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„æ•°æ®ä¸æ˜¯ä¼ ç»™ä¸€ä¸ªé¡¶ç‚¹ç€è‰²å™¨ä¸­çš„ä¸€ä¸ªé¡¶ç‚¹å˜é‡,è€Œæ˜¯æ ¹æ®è§„åˆ™åˆ†é…ç»™ä¸åŒé¡¶ç‚¹ç€è‰²å™¨çš„é¡¶ç‚¹å˜é‡ã€‚è€Œè¿™é‡Œçš„a_Positionæ˜¯vec2ç±»å‹ï¼Œå³æ¯æ¬¡æ¥å—ä¸¤ä¸ªæ•°æ®ã€‚ type: æ•°æ®ç±»å‹ï¼Œä¸€èˆ¬éƒ½æ˜¯æµ®ç‚¹å‹ã€‚ normalize: æ˜¯å¦éœ€è¦å°†éæµ®ç‚¹æ•°å½’ä¸€åŒ– stride: æ­¥é•¿ offset: åç§»é‡ éœ€è¦å¥½å¥½å¯¹æ¯”ä¸€ä¸‹strideå’Œoffsetçš„æ„ä¹‰ä¸åŒºåˆ«ï¼ŒstrideæŒ‡å®šäº†æ¯ä¸ªé¡¶ç‚¹æ‰€åŒ…å«æ•°æ®çš„å­—èŠ‚æ•°ã€‚0æ˜¯æŒ‡ä¸€ä¸ªå±æ€§çš„æ•°æ®æ˜¯è¿ç»­å­˜æ”¾çš„ï¼Œåœ¨æœ¬åˆ©ä¸­ï¼Œä¸€ä¸ªé¡¶ç‚¹åªåŒ…å«ä¸€ä¸ªé¡¶ç‚¹ä½ç½®å±æ€§ï¼Œå…¶æœ‰x,yåˆ†é‡ï¼Œéƒ½æ˜¯Floatç±»å‹ï¼Œæ‰€ä»¥é¡¶ç‚¹åŒ…å«çš„æ•°æ®å­—èŠ‚æ•°ä¹Ÿå°±æ˜¯ä¸¤ä¸ªFloat32ç±»å‹æ‰€å çš„å­—èŠ‚æ•°ï¼Œå› æ­¤å ç”¨8ä¸ªå­—èŠ‚ã€‚ä½†ç”±äºç¼“å†²åŒºåªä¸ºa_Positionä½¿ç”¨ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨0. åŒæ ·çš„ï¼Œå› ä¸ºè¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥offsetä¹Ÿä¸º0ï¼Œoffsetè¡¨ç¤ºä¸ºä¸€ä¸ªæ­¥é•¿çš„æ•°æ®ä¸­ï¼Œè¯¥targetå±æ€§éœ€è¦åç§»å¤šå°‘å­—èŠ‚æ‰å¼€å§‹è¯»å–ã€‚åŒæ—¶è¯´æ˜ï¼Œåªæœ‰å½“å‡ºç°å¤šå±æ€§ä»ä¸€ä¸ªç¼“å†²åŒºè¯»å–æ•°æ®æ—¶æˆ‘ä»¬æ‰éœ€è¦è®¾ç½®offsetã€‚ å¹¶è¡Œå¤„ç†çš„ç‰¹ç‚¹ ä»ç‰‡å…ƒç€è‰²å™¨çœ‹å¹¶è¡Œå¤„ç†ä»¥ä¸Šå·¥ä½œå®Œæˆäº†å°†æ•°æ®ä¼ å…¥ç¼“å†²åŒºï¼ŒåŒæ—¶GPUå…·æœ‰è¯»å–æ•°æ®åˆ°æŒ‡å®šçš„ç€è‰²å™¨å˜é‡ä¸­çš„èƒ½åŠ›ã€‚ å› æ­¤åœ¨è¿™ä¹‹åæˆ‘ä»¬è¿›è¡Œè°ƒç”¨ç»˜å›¾æŒ‡ä»¤ï¼Œæ‰§è¡Œç€è‰²å™¨ç¨‹åºæ¥å®Œæˆç»˜å›¾ã€‚ é¦–å…ˆè°ƒç”¨gl.clearæ¸…é™¤ç”»å¸ƒå†è°ƒç”¨gl.drawArraysè¿›è¡Œç»˜åˆ¶ gl.clear(gl.COLOR_BUFFER_BIT); gl.drawArrays(gl.TRIANGLES, 0, points.length / 2); æˆ‘ä»¬æ­¤æ—¶çš„ç‰‡å…ƒç€è‰²å™¨ç¨‹åºå¦‚æœæ˜¯è¿™æ ·çš„ precision mediump float; void main(){ gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); } åˆ™ä¼šå‘ç°ç»˜åˆ¶å‡ºçš„ä¸‰è§’å½¢ä¼šè¢«çº¢è‰²å¡«å……ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå°±å°è¯äº†WebGLå¯ä»¥å¹¶è¡Œåœ°å¯¹æ‰€æœ‰åƒç´ ç‚¹åŒæ—¶è¿è¡Œç‰‡å…ƒç€è‰²å™¨,ä¹Ÿå°±æ˜¯è¯´å›¾å½¢ä¸­æœ‰å¤šå°‘åƒç´ ç‚¹ï¼Œç€è‰²å™¨ç¨‹åºå°±è¢«åŒæ—¶æ‰§è¡Œå¤šå°‘æ¬¡ã€‚ ä»é¡¶ç‚¹ç€è‰²å™¨çœ‹å¹¶è¡Œå¤„ç†å½“æˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªé¡¶ç‚¹åæ ‡è®¾ç½®ä¸ºä»ç¼“å†²åŒºè¯»å–é¡¶ç‚¹æ•°æ®ç›¸åº”å€¼çš„ä¸€åŠæ—¶ï¼Œéœ€è¦æ¯ä¸ªé¡¶ç‚¹ç€è‰²å™¨åˆ†åˆ«ä¾æ¬¡è®¡ç®—å—ï¼Ÿæ˜¾ç„¶ä¸éœ€è¦ï¼Œè¿™é‡Œæˆ‘ä»¬ä»ç„¶åˆ©ç”¨å¹¶è¡Œè®¡ç®—ã€‚å› æ­¤é¡¶ç‚¹ç€è‰²å™¨çš„ä»¥ä¸‹ä»£ç å¯ä»¥å¹¶è¡Œè®¡ç®—é¡¶ç‚¹ã€‚ attribute vec2 position; void main() { gl_PositionSize = 1.0; gl_Position = vec4(position * 0.5, 1.0, 1.0); } gl_Positionå°±æ˜¯è¯¥é¡¶ç‚¹ç€è‰²å™¨çš„é¡¶ç‚¹åæ ‡ã€‚æ¯ä¸ªä¸åŒçš„ç€è‰²å™¨é¡¶ç‚¹åæ ‡äº’ä¸å¹²æ‰°ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œé¡¶ç‚¹ç€è‰²å™¨è¿˜å¯ä»¥é€šè¿‡varingæ¥å‘ç‰‡å…ƒç€è‰²å™¨ä¼ é€’æ•°æ®å¦‚ä¸‹: attribute vec2 position; varing vec3 color; void main() { gl_PointSize = 1.0; color = vec3(0.5 + position * 0.5, 0.0); gl_Position = vec4(position * 0.5, 1.0 ,1.0); } ç‰‡å…ƒç€è‰²å™¨æ¥å—color precision mediump float; varying vec3 color; void main(){ gl_FragColor = vec4(color, 1.0); } æˆ‘ä»¬æ­£å¸¸çš„æ€ç»´æ˜¯æ‰§è¡Œç‰‡å…ƒç€è‰²å™¨ç¨‹åºæ—¶ï¼Œç”±é¡¶ç‚¹ç€è‰²å™¨ä¼ é€’è¿‡æ¥çš„colorå€¼ä¼šè¢«æ­£ç¡®æ¥å—ï¼Œé‚£è¿™æ ·æ¨ç†ï¼Œåˆ™ä¼šæœ‰å¤šå°‘é¡¶ç‚¹ç€è‰²å™¨ç¨‹åºæ‰§è¡Œï¼Œå°±ä¼šæœ‰å¤šå°‘ç‰‡å…ƒç€è‰²å™¨ç¨‹åºæ‰§è¡Œ,è¿™æ ·åªä¼šåœ¨é¡¶ç‚¹å¤„å‘ˆç°é¢œè‰²ï¼Œå¯æ˜¯çœŸå®çš„ç»“æœæ˜¯ä¸‰è§’å½¢å†…éƒ¨è¢«å¡«å……äº†é¢œè‰²ï¼Œè€Œä¸”æ˜¯æ¸å˜çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹å…¶ä¸­ç¼˜ç”±ã€‚ WebGLåœ¨æ‰§è¡Œç‰‡å…ƒç€è‰²å™¨ç¨‹åºçš„æ—¶å€™ï¼Œé¡¶ç‚¹ç€è‰²å™¨ä¼ ç»™ç‰‡å…ƒç€è‰²å™¨çš„å˜é‡ï¼Œä¼šæ ¹æ®ç‰‡å…ƒç€è‰²å™¨çš„åƒç´ åæ ‡å¯¹å˜é‡è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œåˆ©ç”¨çº¿æ€§æ’å€¼ï¼Œå°±ä½¿å¾—åƒç´ ç‚¹çš„é¢œè‰²å…·æœ‰å‡åŒ€æ¸å˜è¿™ä¸€ç‰¹ç‚¹ã€‚ æœ€åæˆ‘ä»¬éœ€è¦æ˜ç™½ï¼Œåœ¨è°ƒç”¨è¿™ä¸€æ­¥æ—¶ gl.drawArrays(gl.TRIANGLES, 0, points.lenght/2); WebGLå°†å¯¹åº”çš„bufferæ•°ç»„ä¼ é€’ç»™é¡¶ç‚¹ç€è‰²å™¨ï¼Œå†æ ¹æ®ä¸‰è§’å½¢å›¾å…ƒï¼Œä»¥åŠç»˜åˆ¶é¡¶ç‚¹çš„åç§»é‡å’Œæ•°é‡è¿™äº›ä¿¡æ¯ï¼Œæ¥è¿›è¡Œç»˜åˆ¶ã€‚ æ€»ç»“ æ€»ä¹‹ï¼ŒWebGLç¼“å†²åŒºçš„ä½¿ç”¨éå¸¸æœ‰å¿…è¦ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦äº†è§£GPUå¹¶è¡Œè®¡ç®—çš„ç‰¹ç‚¹ï¼Œç€è‰²å™¨ç¨‹åºçš„è¿è¡Œå…·æœ‰å¹¶è¡Œç‰¹ç‚¹ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹,åƒç´ ç‚¹çš„å¤„ç†æ•ˆç‡æœ‰å¾ˆå¤§æå‡ã€‚ æˆ‘ä»¬å†æ€»ç»“ä¸€ä¸‹WebGLå®Œæ•´çš„ç»˜å›¾æµç¨‹ï¼Œè¿™å¯¹äºå¼€å‘è€Œè¨€ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚ åˆ›å»ºWebGLä¸Šä¸‹æ–‡ åˆ›å»ºç€è‰²å™¨ç¨‹åº å°†æ•°æ®å­˜å…¥ç¼“å†²åŒº(createBuffer(åˆ›å»ºç¼“å†²åŒº),bindBuffer(ç»‘å®šç¼“å†²åŒº),bufferData(ç»™ç¼“å†²åŒºä¼ é€’æ•°æ®)) ä»ç¼“å†²åŒºä¸­è¯»å–æ•°æ®(enableVertexAttribArray(å¯ç”¨å±æ€§)ï¼ŒvertexAttribPointer(è®¾ç½®å±æ€§ç¼“å†²åŒºè¯»å–çš„é…ç½®,ç»‘å®šåˆ°å½“å‰è®¾ç½®çš„ç»‘å®šç¼“å†²åŒº)) è¿è¡Œç€è‰²ç¨‹åº(clear,drawArrays) å½“ç„¶ï¼Œå¦‚æœä½ çš„createBuffer,bindBuffer,ä»¥åŠenableVertexAttribArrayå¯ä»¥åœ¨å…¶å®ƒæ­¥éª¤ä¸‹è®¾ç½®ï¼Œåªè¦ä¿è¯å…·æœ‰æ ¸å¿ƒæ­¥éª¤å³å¯ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"WebGL","slug":"WebGL","permalink":"/tags/WebGL/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"ES6å‡½æ•°ç»†èŠ‚ä¸restè¿ç®—ç¬¦(reviewç³»åˆ—)","slug":"ç®­å¤´å‡½æ•°ä¸restè¿ç®—ç¬¦","date":"2020-10-03T11:37:23.387Z","updated":"2020-10-03T11:39:27.164Z","comments":true,"path":"2020/10/03/ç®­å¤´å‡½æ•°ä¸restè¿ç®—ç¬¦/","link":"","permalink":"/2020/10/03/ç®­å¤´å‡½æ•°ä¸restè¿ç®—ç¬¦/","excerpt":"","text":"ES6å‡½æ•°ç»†èŠ‚ä¸restè¿ç®—ç¬¦å½¢å‚ä¸å®å‚çš„å…³ç³»å½¢å‚é»˜è®¤å€¼ä¼šå½±å“åˆ°æ˜ å°„å…³ç³» var x = 1; function foo(x = x){ // å£°æ˜èµ‹å€¼æ—¶çš„rhsæŸ¥è¯¢æŸ¥è¯¢ä¸åˆ°x,ä¼šæŠ¥é”™ // Reference Error : x is not undefined console.log(&#39;1&#39;); } foo() var x = 1; function foo(x, y = function(){ x = 2; cnosole.log(x) }){ x = 3; y(); console.log(x); } è°ƒç”¨æ ˆï¼Œè®°å½•äº†å‡½æ•°åœ¨å“ªä¸ªåœ°æ–¹è°ƒç”¨çš„, é€šè¿‡æ§åˆ¶å°SourcesæŸ¥çœ‹ï¼Œè®¾ç½®æ–­ç‚¹ã€‚ ç®­å¤´å‡½æ•°thisæŒ‡å‘é—®é¢˜ é»˜è®¤ç»‘å®šè§„åˆ™(ä¼˜å…ˆå€¼æœ€ä½)functioné»˜è®¤æŒ‡å‘windowä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé»˜è®¤æŒ‡å‘undefined éšå¼ç»‘å®šè°è°ƒç”¨å°±æŒ‡å‘è°ï¼Œå³çœ‹åœ¨å‡½æ•°è°ƒç”¨æ ˆä¸­çš„è°ƒç”¨æƒ…å†µ æ˜¾ç¤ºç»‘å®šcall(obj, a, b, c), apply(obj,[a, b , c]), bind(obj, a, b, c); newæ–¹å¼(ä¼˜å…ˆçº§æœ€é«˜)newçš„è¿‡ç¨‹å°±æ˜¯åœ¨æœ€åä¸€æ­¥thisæŒ‡å‘å®ä¾‹åŒ–å¯¹è±¡ ä¼˜å…ˆçº§: newæ–¹å¼ &gt; æ˜¾ç¤ºç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®šè§„åˆ™ ç®­å¤´å‡½æ•°è¯­æ³•1å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå‡½æ•°ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå…·æœ‰è¿”å›å€¼ var f = a =&gt; a; | ç›¸å½“äº(ä½†æ˜¯æ€§è´¨ä¸åŒï¼Œç”±äºä¸€ä¸ªæ˜¯å‡½æ•°è¡¨è¾¾å¼ä¸€ä¸ªæ˜¯å‡½æ•°å£°æ˜ï¼Œè¡¨ç°ä¹Ÿä¸åŒå¦‚å‡½æ•°å£°æ˜æå‡) var f = function(a){ return a; } 2å‚æ•°ä¸æ˜¯ä¸€ä¸ªæ—¶: var f = (a, b) =&gt; 5; | ç›¸å½“äº(ä½†æ˜¯æ€§è´¨ä¸åŒï¼Œç”±äºä¸€ä¸ªæ˜¯å‡½æ•°è¡¨è¾¾å¼ä¸€ä¸ªæ˜¯å‡½æ•°å£°æ˜ï¼Œè¡¨ç°ä¹Ÿä¸åŒå¦‚å‡½æ•°å£°æ˜æå‡) function f(){ return 5; } ç®­å¤´å‡½æ•°ä¸è§£æ„èµ‹å€¼è§£æ„èµ‹å€¼å›é¡¾: è§£æ„èµ‹å€¼å·¦ä¾§è‹¥æ˜¯å¯¹è±¡ï¼Œå¦‚æœéœ€è¦èµ‹å€¼çš„å˜é‡ä¸å³ä¾§å¯¹è±¡æŸé”®åç›¸åŒï¼Œåˆ™å¯å¯¹åº”èµ‹å€¼ï¼Œä»è€Œå®ç°ç®€å†™ã€‚ const full = ({first, last} = {})=&gt; first + &#39;&#39; + last; console.log(full({first: 3, last: 5})); ç®­å¤´å‡½æ•°ä½œä¸ºå‡½æ•°å‚æ•°var arr = [123321, 124 ,213, 1111]; var arr1 = arr.sort((a,b) =&gt; a - b); console.log(arr1); ä»¥ä¸Šè¯´æ˜ç®­å¤´å‡½æ•°ä¸æ˜¯ä½¿ç”¨functionè¿›è¡Œå£°æ˜å®šä¹‰çš„ã€‚ æ²¡æœ‰argumentsvar sum = (a, b) =&gt; { console.log(arguments); // æŠ¥é”™ return a + b; } sum(1, 23); rest/spreadè¿ç®—ç¬¦ç”¨äºå±•å¼€æˆ–æ”¶é›† æ”¶é›†å®å‚var sum = (...args) =&gt; { console.log(args); console.log(args[0] + args[1]); } sum(1, 2); æ”¶é›†ä½™å‚let fn = (a, b, ...c) =&gt; { console.log(a, b, c); } fm(1, 2, 4, 5, 6, 7); // æ”¶é›†å‰©ä½™æ‰€æœ‰å‚æ•°ã€‚ æ‹“å±•è¿ç®—ç¬¦æ”¶é›†å¿…é¡»æ”¾åœ¨æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ å±•å¼€æ•°ç»„function foo(x, y, z){ console.log(x ,y ,z); } foo(...[1, 2, 3]); // å±•å¼€æ•°ç»„ æ­¤å¤„ä¹Ÿå¯ç”¨apply foo.apply(null, [1, 2, 3, 4, 5]); åœ¨å…¶å®ƒä¸Šä¸‹æ–‡ä¸­æ‹“å±•ï¼Ÿlet a = [2, 3, 4]; let b = [1, ...a, 5]; console.log(b) // å±•å¼€ ä»è€Œæ›¿ä»£ console.log([1].concat(a, [5])) ES6æ•°ç»„æ’åºå‡è®¾ï¼šä¼ å…¥å‚æ•°æ–¹å¼ä¸ºä¾æ¬¡ä¼ å…¥ã€‚ ES5å®ç° function sortNum(){ Array.prototype.slice.call(arguments).sort(function(a, b){ return a - b }) } sortNum(12, 431, 24, 1, 4, 135, 2, 35); ES6ç®­å¤´å‡½æ•°+restè¿ç®—ç¬¦ const sortNum = (...args) =&gt; args.sort((a, b) =&gt; a - b ); console.log(sortNum(12, 431, 24, 1, 4, 135)); å‡½æ•°lengthé—®é¢˜console.log(function (a){}.length) ;//1 console.log((function(b,c,d = 0,...a){}).length); // 2 è®¿é—®çš„æ˜¯å½¢å‚é•¿åº¦lengthå±æ€§åªåŒ…æ‹¬å®é™…å½¢å‚çš„é•¿åº¦ï¼Œä¸åŒ…å«è®¾ç½®äº†é»˜è®¤å€¼çš„å½¢å‚ä»¥åŠä½¿ç”¨restè¿ç®—ç¬¦çš„å‚æ•°","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"letè¿›é˜¶ä¸const(reviewç³»åˆ—)","slug":"letè¿›é˜¶ä¸const","date":"2020-10-03T11:36:14.764Z","updated":"2020-10-03T11:36:59.135Z","comments":true,"path":"2020/10/03/letè¿›é˜¶ä¸const/","link":"","permalink":"/2020/10/03/letè¿›é˜¶ä¸const/","excerpt":"","text":"Letbabelä¸€ä¸‹var arr = []; for(let i = 0 ; i &lt; 10; i ++){ arr[i] = function(){ console.log(i); } }; for(var k = 0; k &lt; 10; k++){ arr[k](); } babelåçš„ä»£ç : var arr = []; // å€ŸåŠ©é—­åŒ…,æ¨¡æ‹Ÿ var _loop = function _loop(i){ arr[i] = function(){ console.log(i); }; }; for(var i = 0; i&lt; 10; i++) { _loop(i); } for(var k = 0; k &lt; 10; k++){ arr[k](); } å¯è§:å—çº§ä½œç”¨åŸŸä¸­çš„var æå‡åˆ°å½“å‰æ‰€å¤„ä½œç”¨åŸŸçš„é¡¶ç«¯ constconst å£°æ˜ ä¸€æ—¦å®šä¹‰çš„åŒæ—¶å¿…é¡»èµ‹å€¼,å¦åˆ™æŠ¥é”™ const a; // æŠ¥é”™ æš‚æ—¶æ€§æ­»åŒºconst ä¼šäº§ç”Ÿå—çº§ä½œç”¨åŸŸï¼ŒåŒæ—¶ä¸èƒ½æå‡ï¼Œæœ‰æš‚æ—¶æ€§æ­»åŒºã€‚ä¸letç›¸åŒ,ä¸èƒ½é‡å¤å£°æ˜ã€‚ â€œå¸¸é‡â€?è€ƒè™‘const å£°æ˜å€¼ç±»å‹ä¸ºå¼•ç”¨å€¼ç±»å‹çš„å˜é‡ const obj = {}; obj.name = &#39;zhangsan&#39;; console.log(obj); è§£é‡Š: constä¿è¯å˜é‡æŒ‡å‘å †å†…å­˜ä¸å˜,å³æŒ‡é’ˆä¸å˜ï¼Œä¿å­˜çš„åœ°å€æŒ‡å‘çš„æ ˆä¸­å€¼å¯ä»¥å˜åŒ–ã€‚ constå£°æ˜åŸå§‹å€¼ç±»å‹å˜é‡æ—¶ï¼Œç”±äºç»™å˜é‡èµ‹å€¼æ—¶ï¼Œä¼šæ”¹å˜å˜é‡ä»£è¡¨çš„æ ˆå†…å­˜ä½ç½®ï¼Œè€Œconstä¿è¯äº†å˜é‡æŒ‡å‘å†…å­˜ä½ç½®ä¸å˜ã€‚ å¯¹è±¡å†»ç»“const å¹¶ä¸èƒ½å˜é‡ä¸æ”¹å˜,å½“è¿™ä¸ªå˜é‡çš„å€¼ç›®å‰ä¸ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ ˆä¸­çš„å€¼å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤å®ç°ä¸€ä¸ªæ— æ³•æ”¹å˜çš„çœŸæ­£çš„å¸¸é‡éœ€è¦å€ŸåŠ©å…¶å®ƒå·¥å…·ã€‚ è¿™ä¸ªå·¥å…·å°±æ˜¯Object.freeze(); const obj = []; Object.freeze(obj) obj[2] = &#39;zhangsan&#39;; console.log(obj) //[] å¯¹è±¡å±æ€§å†»ç»“(æ·±åº¦å†»ç»“) function myFreeze(obj){ Object.freeze(obj); for(var key in obj){ if(typeof(obj[key]) === &#39;object&#39; &amp;&amp; obj[key] !== null){ Object.freeze(obj[key]); } } } æµ‹è¯•: var person = { son: { lisi: &#39;18&#39;, zhangsan: &#39;19&#39; }, car: [&#39;benz&#39;, &#39;mazda&#39;, &#39;BMW&#39;] } myFreeze(person); person.son.wangwu = 20; person.car[3] = &#39;xxxx&#39;; console.log(person); conståº”ç”¨æ‰“å¼€nodeæ–‡æ¡£æŸ¥è¯¢http/requestç­‰å…¶å®ƒæ¿å— å¦‚ä¸‹: const http = require(&#39;http&#39;); æ¨¡å—çš„æœ€å return new + æ„é€ å‡½æ•° ä½¿ç”¨constå¾—åˆ°çš„æ˜¯å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œæˆ‘ä»¬æŒ‡å®šè¿™ä¸ªå˜é‡æŒ‡å‘å †å†…å­˜çš„åœ°å€ä¸å¯æ”¹å˜ã€‚ åŒæ—¶ï¼Œåœ¨å¼•å…¥æ¨¡å—çš„æœ€åé€šè¿‡â€return new + æ„é€ å‡½æ•°â€çš„å½¢å¼ã€‚ æŸç§ç¨‹åº¦ä¸Šæ˜¯ä¸ºäº†ä¸å…è®¸constå¯¹è±¡å¯¹çˆ¶çº§æ„é€ å™¨è¿›è¡Œæ›´æ”¹,å› æ­¤ä¸æš´éœ²çˆ¶çº§æ„é€ å™¨è€Œæ˜¯å®ä¾‹åŒ–å¯¹è±¡ã€‚ å…¨å±€æ±¡æŸ“çš„æœ‰æ•ˆæªæ–½é—®é¢˜:windowçš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰æ•ˆçš„,å¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œå†™é”™å˜é‡ååï¼Œç›´æ¥æŒ‚è½½åˆ°windowä¸Šã€‚ const/letè§£å†³ES6ä¸ºäº†æ”¹å˜ç°çŠ¶ï¼Œä¿æŒå…¼å®¹æ€§.ç”±äºfunction å’Œ var å…è®¸å£°æ˜å˜é‡åˆ°é¡¶å±‚å¯¹è±¡ä¸Š,let/constæ˜¯ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜è€Œå‡ºç°çš„classä¹Ÿæ˜¯ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨let/constå¯ä»¥å‡å°‘å˜é‡å…¨å±€æ±¡æŸ“ã€‚ æš‚æ—¶æ€§æ­»åŒºTDZ(Temporal Dead Zone)var x = 1; { let x = x; //æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å…‰ä½“ç°åœ¨å˜é‡æ— æ³•æå‡ï¼Œè€Œä¸”åœ¨letå£°æ˜å˜é‡å¹¶èµ‹å€¼æ—¶,RHSæŸ¥è¯¢ç›¸åŒåç§°çš„å˜é‡æ—¶æ— æ³•åœ¨åŒçº§ä½œç”¨åŸŸä»¥åŠå‘ä¸Šçº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾. console.log(x); // æŠ¥é”™ï¼Œæœªå®šä¹‰ }","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"ES6å‰ç½®çŸ¥è¯†(reviewç³»åˆ—)","slug":"ES6å‰ç½®çŸ¥è¯†","date":"2020-10-03T11:35:06.233Z","updated":"2020-10-03T11:35:59.352Z","comments":true,"path":"2020/10/03/ES6å‰ç½®çŸ¥è¯†/","link":"","permalink":"/2020/10/03/ES6å‰ç½®çŸ¥è¯†/","excerpt":"","text":"ES6ä»£ç çš„è½¬è¯‘ æ‰€éœ€å·¥å…· ES6è¯­æ³•ç¼–è¯‘æˆES5ä»¥ä¸‹è¯­æ³•: babel-ç¼–è¯‘å·¥å…·(ç†è§£ä¸ºä»£ç å—ï¼ŒåŠŸèƒ½å—) éœ€è¦npmå®‰è£… npmå®‰è£…babelç›¸å…³å·¥å…· babel-preset æˆ‘ä»¬æŒ‡å®šçš„è§„åˆ™é›†ä¸º:babel-preset-env npm i babel-preset-env â€“save-devå®‰è£…åˆ°å½“å‰æ–‡ä»¶å¤¹ .babelrcæ–‡ä»¶(rcæ˜¯run commandè¿è¡Œå‘½ä»¤çš„ç®€å†™çš„)çš„é…ç½®{ &quot;presets&quot;: [&quot;babel-preset-env&quot;] } å®‰è£…babel-cli â€“save-dev å®‰è£…babelè„šæ‰‹æ¶å·¥å…·(æä¾›ä¸€ç³»åˆ—å‘½ä»¤) npm i babel-cli --save-dev åœ¨â€scriptâ€ä¸­æ·»åŠ  &quot;build&quot;: &quot;babel app.js -o bundle.js&quot; æŒ‡ç¤ºbabelè½¬ä¹‰åoutputåˆ°bundle.js &quot;babel src -d lib&quot; å‘½ä»¤è¡Œä¸­ä½¿ç”¨å‘½ä»¤,è¿›è¡Œè½¬ä¹‰ npm run build app.js var arr = []; for(let i = 0; i &lt; 10; i++){ arr[i] = (() =&gt; { console.log(i); })(i) } é…ç½®æ‰§è¡Œç›¸åº”çš„æ–‡ä»¶ &quot;script-name&quot;: &quot;babel-node ./src/app.js&quot; æˆ–è€…æ‰§è¡Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨node babelæ›´å¤šå·¥å…·babel-coreï¼šè®©éƒ¨åˆ†ä»£ç è½¬ç  babel-registerï¼šåˆ©ç”¨Requireé’©å­è‡ªåŠ¨ç¼–è¯‘ app.js var babel = require(&quot;babel-core&quot;); app.js require(&quot;babel-register&quot;); var obj = new Map(); // æ–°çš„APIæ²¡æœ‰è¢«è½¬ç ï¼Œé€šè¿‡babel-polyfillæ’ä»¶è¿›è¡Œè½¬æ¢æˆç›¸åº”æµè§ˆå™¨èƒ½çš„ä»£ç  console.log(obj); babel-polyfill: require(&quot;babel-polyfill&quot;); å…¶ä»–æ–¹å¼è½¬ä¹‰ä¹Ÿå¯ä»¥é€šè¿‡babelæä¾›çš„åœ¨çº¿çš„å·¥å…·ï¼Œè·å–æµè§ˆå™¨å…¼å®¹çš„babelåçš„jsä»£ç  æµè§ˆå™¨å½“ä¸­ä½¿ç”¨ES6ä»£ç åœ¨æµè§ˆå™¨ä¸­å¼•å…¥cdnæ–‡ä»¶,babelå®˜ç½‘æä¾› &lt;script type=&quot;text/babel&quot;&gt; // ä»£ç  &lt;/script&gt; Traceuræ˜¯è°·æ­Œæä¾›çš„è½¬ç å·¥å…·ã€‚åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼ŒåŒæ ·éœ€è¦å¼•å…¥scriptæ–‡ä»¶ https://node.greennodeå…³äºES6è¯­æ³•æ”¯æŒæƒ…å†µä¸é”™å› æ­¤æˆ‘ä»¬ä½¿ç”¨nodeç¯å¢ƒæµ‹è¯•ES6ä»£ç å³å¯","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"å—çº§ä½œç”¨åŸŸ(reviewç³»åˆ—)","slug":"å—çº§ä½œç”¨åŸŸ","date":"2020-10-03T11:31:47.933Z","updated":"2020-10-03T11:34:23.402Z","comments":true,"path":"2020/10/03/å—çº§ä½œç”¨åŸŸ/","link":"","permalink":"/2020/10/03/å—çº§ä½œç”¨åŸŸ/","excerpt":"","text":"# å—çº§ä½œç”¨åŸŸ(reviewç³»åˆ—) kissåŸåˆ™è§£å†³å˜é‡æ±¡æŸ“é—®é¢˜keep it simple stupid letä¸å—çº§ä½œç”¨åŸŸè§£å†³å˜é‡æ±¡æŸ“é—®é¢˜ å½¢å¼ä¸Šçš„å—çº§ä½œç”¨åŸŸ if(1){ } for(; 1; ){ break; } { } let å£°æ˜let a = 1; let a = 2; è¿è¡Œä»£ç  node app.js æŠ¥é”™ï¼Œé‡å¤å®šä¹‰ letå£°æ˜ç‰¹å¾ let å£°æ˜çš„å˜é‡åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹ä¸å¯è¢«é‡å¤å£°æ˜`jsfunction test(){ let a = 1; var a = 2;} ```js function test(a){ let a = 10; console.log(a); } æŠ¥é”™, aå·²è¢«å®šä¹‰ function test(a){ { let a = 10; console.log(a); // 10 } console.log(a); //undefined } let ä¸ä¼šå£°æ˜æå‡ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæš‚æ—¶æ€§æ­»åŒº console.log(a); // æŠ¥é”™ï¼Œæœªè¢«å®šä¹‰ let a = 10; å‡½æ•°ä¸­ä¹Ÿä¸€æ · function test(){ console.log(a); let a = 10; } test(); ä¸varå¯¹æ¯” var a = a; console.log(a); // undefined let b = b; console.log(b); //æŠ¥é”™ letæš‚æ—¶æ€§æ­»åŒºçš„å½±å“ï¼š function test(x = y, y = 2){ console.log(x, y); } test(); // y is not defined console.log(typeof a); // æŠ¥é”™,æ˜¯ç”±äºletå¼•èµ·çš„æš‚æ—¶æ€§æ­»åŒºå¼•èµ·çš„ã€‚ let a; let åªèƒ½åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸‹ç”Ÿæ•ˆ`js{ let a = 2;} console.log(a); ## éšå¼let forå¾ªç¯æ¡ä»¶ä¸­çš„iå±äºå—çº§ä½œç”¨åŸŸ ```js for(let i = 0; i &lt; 10; i++){ } console.log(i); // æŠ¥é”™,i is not defined varå£°æ˜çš„å˜é‡ä¸äº§ç”Ÿå—çº§ä½œç”¨åŸŸé—®é¢˜ æƒ…å½¢ä¸€: var arr = []; for(var i = 0; i&lt; 10; i++){ arr[i] = function(){ console.log(i); } } for(var i = 0; i &lt; 10; i++){ arr[i](); } // 0-9 æƒ…å½¢äºŒ for(var i = 0; i &lt; 10; i++){ i = &#39;a&#39;; console.log(i); // åªæ‰“å°ä¸€æ¬¡a } for(var i = 0; i &lt; 10; i++){ var i = &#39;a&#39;; console.log(i); // åªæ‰“å°ä¸€æ¬¡ a } åŸå› æ˜¯var ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸé—®é¢˜ æƒ…å½¢ä¸‰ for(let i = 0; i &lt; 10; i++){ i = &#39;a&#39;; console.log(i); // ä¾ç„¶åªæ‰“å°ä¸€æ¬¡a } for(let i = 0; i &lt; 10; i++){ var i = &#39;a&#39;; console.log(i); // æŠ¥é”™,åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹ // å› ä¸ºvarå£°æ˜çš„iä¸letå£°æ˜çš„iåœ¨åŒä¸€ä½œç”¨åŸŸä¸‹ï¼Œvarä¼šæœ‰å˜é‡æå‡ï¼Œè€Œletè§„å®šå£°æ˜çš„å˜é‡ä¸èƒ½é‡å¤å£°æ˜,å› æ­¤ä¼šæŠ¥é”™ } æƒ…æ™¯å››: for(let i = 0; i &lt; 10; i++){ let i = &#39;a&#39;; console.log(i); // å¦‚æœåœ¨åŒä¸€å—çº§ä½œç”¨åŸŸä¸‹ï¼Œä¼šæŠ¥é”™ï¼Œä½†æ˜¯æ‰“å°å‡ºa. } ç”±æ­¤è¯´æ˜: ä¸¤ä¸ªiæ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸä¸æ˜¯åŒä¸€ä¸ªå—çº§ä½œç”¨åŸŸ()ä½œç”¨åŸŸæ˜¯çˆ¶çº§ä½œç”¨åŸŸã€‚{}å†…æ˜¯å­çº§ä½œç”¨åŸŸ babelå¯èƒ½å‡ºç°é—®é¢˜if(1){ let a = 1; { let a = 10; console.log(a); } } let æœ¬è´¨ä¸Šå°±æ˜¯ä¸ºäº†jså¢åŠ å—çº§ä½œç”¨åŸŸè€Œå‡ºç°çš„ babelåå¯ä»¥çœ‹åˆ°babelåçš„ä»£ç ï¼Œè½¬ç ä¹‹åå‘ç°ä»¥ä¸Šä»£ç å¤„ç†ä¸º if(1){ var a = 1; { var _a = 10; console.log(_a); } } æœ‰æ—¶å€™ä¼šæ— æ³•æˆåŠŸè½¬ä¹‰ for(let i = 0; i &lt; 10; i++){ let i = &#39;a&#39;; console.log(i); } æœ¬åº”è¯¥å‡ºç°10ä¸ªa,ä½† æ˜¯è½¬ä¹‰åå´ä»ç„¶æ˜¯ä¸€ä¸ªaã€‚ å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å‡½æ•°åªèƒ½åœ¨å‡½æ•°æˆ–é¡¶å±‚ä½œç”¨åŸŸä¸­å£°æ˜. ES5è®¤ä¸ºåœ¨{}å—çº§ä½œç”¨åŸŸå£°æ˜å‡½æ•°ä¸åˆæ³• ES6åšå‡ºå¦¥å:å¦‚ä¸‹éƒ½å¯ä»¥å£°æ˜å‡½æ•° if(i){ function test(){} }; try{ function test(){} } catch(e) { function test(){} } ä½†æ˜¯ä¸æ¨èåœ¨å—çº§ä½œç”¨åŸŸä¸­ç›´æ¥è¿›è¡Œå‡½æ•°å£°æ˜,è€Œæ¨èä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼æ¥å®Œæˆç›®çš„ å—çº§ä½œç”¨åŸŸè®¾ç½®è¿”å›å€¼æ— æ„ä¹‰var a = for(; i ;){ return } è‰æ¡ˆ: do{ return } å—çº§ä½œç”¨åŸŸä¸å‡½æ•°ç«‹å³è°ƒç”¨å—çº§ä½œç”¨åŸŸæ˜¯å¦ä¸å‡½æ•°çš„ç«‹å³è°ƒç”¨ç›¸åŒ? ä¸æ˜¯ï¼Œåªèƒ½ç›¸äº’æ¨¡æ‹Ÿï¼Œä½†ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚å‡½æ•°çš„ç«‹å³è°ƒç”¨å…·æœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”åœ¨å¤–éƒ¨å¯ä»¥æ¥æ”¶ã€‚å—çº§ä½œç”¨åŸŸæ˜¯åœ¨å¤–éƒ¨æ— æ³•è®¿é—®ä½œç”¨åŸŸä¸­VOä¸­å­˜å‚¨çš„å˜é‡ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"ç®­å¤´å‡½æ•°(reviewç³»åˆ—)","slug":"ç®­å¤´å‡½æ•°","date":"2020-10-03T11:28:07.848Z","updated":"2020-10-03T11:39:29.336Z","comments":true,"path":"2020/10/03/ç®­å¤´å‡½æ•°/","link":"","permalink":"/2020/10/03/ç®­å¤´å‡½æ•°/","excerpt":"","text":"ç®­å¤´å‡½æ•°(reviewç³»åˆ—)ç®­å¤´å‡½æ•°çš„æ³¨æ„ç‚¹è¿”å›å¯¹è±¡å‰åŠ ä¸€ä¸ª(),é˜²æ­¢å¼•æ“è¯¯è¯»æˆä»£ç å— (a, b) =&gt; ({a: 3, b: 4}); ç®­å¤´å‡½æ•°çš„æœ¬è´¨ç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘çš„è§„åˆ™ä¸æ˜¯å››å¤§è§„åˆ™ä¹‹ä¸€ ä¸»è¦åŒºåˆ«æœ‰ä»¥ä¸‹ä¸‰ç‚¹: thisæ˜¯ç”±å¤–å±‚å‡½æ•°é™æ€ä½œç”¨åŸŸæ¥å†³å®šçš„ =&gt; ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°æ¥ä½¿ç”¨ æ²¡æœ‰argumentså¯¹è±¡ï¼Œ ç”¨restè¿ç®—ç¬¦æ›¿ä»£() yieldå‘½ä»¤ä¸èƒ½ç”Ÿæ•ˆï¼Œ åœ¨generatorå‡½æ•°ä¸­ ä¾æ¬¡æ¥çœ‹ function foo(){ console.log(this); return (a) =&gt; { console.log(this.a); } } var obj1 = {a: 2}; var obj2 = {a: 3}; var bar = foo.call(obj1); bar.call(obj2); // 2 const person = { eat(){ console.log(this); }, drink: ()=&gt;{ console.log(this); }, } person.eat(); //personè°ƒç”¨, eatå‡½æ•°æ‰§è¡Œæ—¶æŒ‡å‘è°ƒç”¨è€…person person.drink(); // window. ç®­å¤´å‡½æ•°ä½¿ç”¨åœºæ™¯ä¸¾ä¾‹ &lt;button id=&quot;button&quot;&gt; &lt;/button&gt; ES5 (function(){ function Button(){ this.button = document.getElementsById(&#39;button&#39;); } Button.prototype = { init(){ this.bindEvent(); }, bindEvent(){ this.button.addEventListener(&#39;click&#39;,this.clickBtn.bind(this), false); // ä¸å‹å¥½ }, clickBtn(){ console.log(&#39;xxx&#39;); console.log(this); } } new Button().init(); })(); (function(){ function Button(){ this.button = document.getElementsById(&#39;button&#39;); } Button.prototype = { init(){ this.bindEvent(); }, bindEvent(){ this.button.addEventListener(&#39;click&#39;,(e)=&gt; {this.clickBtn(e)},false; // Change }, clickBtn(e){ console.log(e) console.log(this); } } new Button().init(); })(); ä¸è¦ç”¨bind(this)è¿™ç§æ˜¾ç¤ºæ”¹å˜thisæŒ‡å‘çš„ä¸‘é™‹åšæ³•ã€‚è€Œæ˜¯ç”¨ç®­å¤´å‡½æ•°ã€‚ åœ¨æ‰§è¡Œæ—¶å…¶ä¸­çš„thisä¸æ™®é€šå‡½æ•°ä¸åŒï¼Œå®ƒæŒ‡å‘ä¸å®šä¹‰çš„ä½ç½®æœ‰å…³è€Œä¸è°ƒç”¨æ–¹å¼å³å‡½æ•°è°ƒç”¨æ ˆæ— å…³(è¯·è§:You donâ€™tkonw JS)ï¼Œå®šä¹‰æ—¶å¤–å±‚å‡½æ•°ä½œç”¨åŸŸä¸­thisæŒ‡å‘å³ä¸ºç®­å¤´å‡½æ•°æ‰§è¡Œçš„thisæŒ‡å‘ã€‚ You donâ€™tkonw JSä¸­è¿˜æŠŠè¿™ç§è¡Œä¸ºä¸é™æ€ä½œç”¨åŸŸç±»æ¯”ï¼Œä»æŸç§è§’åº¦thisé™¤äº†åœ¨ç®­å¤´å‡½æ•°ä¸­æœ‰ç±»ä¼¼é™æ€ä½œç”¨åŸŸçš„è¡Œä¸ºï¼Œå…¶å®ƒçš„åœ°æ–¹éƒ½ç±»ä¼¼äºåŠ¨æ€ä½œç”¨åŸŸï¼Œå³è¿è¡Œæ—¶å†ç»‘å®šã€‚ ç®­å¤´å‡½æ•°çš„åµŒå¥— function foo(){ return () =&gt; { return () =&gt; { return () =&gt; { console.log(&#39;id&#39;, this.id); } } } } var f = foo.call({id: 1}); var f1 = f.call({id: 2})()(); var f2 = f().call({id: 3})(); var f3 = f()().call({id: 4}); ç®­å¤´å‡½æ•°ä¸­çš„thisæ˜¯å›ºåŒ–çš„ï¼Œç®­å¤´å‡½æ•°ä¸­å®é™…ä¸Šæœ¬èº«åœ¨å‡½æ•°æ‰§è¡ŒæœŸæ²¡æœ‰è‡ªå·±çš„this. ä¸‹é¢ä»£ç ä¸­çš„thiså…¨éƒ¨å¼•ç”¨çš„æ˜¯fooå‡½æ•°çš„this(å¯ä»¥ç†è§£ä¸ºé€šè¿‡ä½œç”¨åŸŸé“¾æŸ¥æ‰¾) function foo(){ console.log(this); return () =&gt; { console.log(this); return () =&gt; { console.log(this); return () =&gt; { console.log(this); console.log(&#39;id&#39;, this.id); } } } } thisæŒ‡å‘æ˜¯å›ºåŒ–çš„ï¼Œå‡½æ•°å†…éƒ¨å¹¶æ²¡æœ‰è‡ªå·±çš„this,åªèƒ½å¤Ÿé€šè¿‡çˆ¶çº§ä½œç”¨åŸŸæ¥è·å–åˆ°this,thiså®é™…ä¸Šæ˜¯é—­åŒ…å¯¼å‡ºçš„thisã€‚ 2.ä¸èƒ½å½“åšæ„é€ å‡½æ•°ä½¿ç”¨:bind,apply,call. ç®­å¤´å‡½æ•°ä¸å­˜åœ¨argumentsä¸å­˜åœ¨argumentsæ—¶ï¼Œå…¶éœ€è¦RHSæŸ¥æ‰¾argumentsæ—¶åªèƒ½é€šè¿‡ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ï¼š var test = () =&gt; { console.log(arguments); } test(); æ­¤é—®é¢˜ä¸thisæŒ‡å‘å®è´¨ä¸€æ ·çš„ï¼Œé€šè¿‡é—­åŒ…æ‹¿åˆ°çš„æ˜¯çˆ¶çº§çš„arguemnts.è¿™é‡Œåº”è¯¥æ˜¯é—­åŒ…ï¼ŒåŸå› ä½¿ç”¨setTimeOutï¼Œä¼šå°†callbackæ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­åç»­ä¼šæ‰§è¡Œ,callbackå®šä¹‰åœ¨fooå‡½æ•°å†…éƒ¨(å½“ç„¶è¿™é‡Œæ˜¯ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ï¼Œä¸è¿‡å®ƒä¾ç„¶æ‹¥æœ‰è‡ªå·±çš„é™æ€ä½œç”¨åŸŸ)ï¼Œåœ¨æ­¤æ—¶fooå‡½æ•°çš„argumntsè¢«ç®­å¤´å‡½æ•°ä½œç”¨åŸŸé“¾å¼•ç”¨äº†ï¼Œå› æ­¤åœ¨æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œè°ƒç”¨callbackå†…éƒ¨çš„ä»£ç ï¼Œæ‰“å°å‡ºçš„argumentså®é™…ä¸Šæ˜¯fooåœ¨ä¸Šæ¬¡æ‰§è¡Œæ—¶äº§ç”Ÿçš„AOä¸­çš„arguments. function foo(){ console.log(arguments); setTimeout( () =&gt; { console.log(arguments); }); } foo(1, 2, 3, 4, 5, 6, 7) åæ˜ å‡ºæ¥çš„é—®é¢˜æ˜¯å‡ºæ¥ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰arguments(å¦åˆ™ä¼šRHSæŸ¥è¯¢åˆ°è‡ªå·±å‡½æ•°å†…éƒ¨çš„arguments),åŒæ—¶argumentså¦‚åŒæ™®é€šå˜é‡ä¸€æ ·ï¼Œå˜é‡ä½œç”¨åŸŸæ˜¯é™æ€ä½œç”¨åŸŸï¼Œå› æ­¤æŒ‰ç…§ä½œç”¨åŸŸé“¾çš„è§„åˆ™è¿›è¡ŒæŸ¥æ‰¾ã€‚ ä¸é€‚ç”¨åœºæ™¯function insert(value) { return { into: function(array){ return { after: function(afterValue){ array.splice(array.indexof(afterValue) + 1, 0, value); return array; } } } } } console.log(inset(5).into[1,2,3,4,6,7,8].after(4)); // [1,2,3,4,5,6,7,8] ç®€æ´ï¼Œä½†ä¸æ¨èï¼Œä»£ç ä¸æ˜“è¯» let insert = (value) =&gt; ({ into: (array) =&gt; ({ after: (afterValue) =&gt; { array.splice(array.indexof(afterValue) + 1, 0, value); return array; } }) }) console.log(inset(5).into[1,2,3,4,6,7,8].after(4)); æ€»ç»“ç®­å¤´å‡½æ•°é€‚ç”¨åœºæ™¯è§„å¾‹ ç®€å•çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå¾—å‡ºå”¯ä¸€çš„returnçš„è®¡ç®—å€¼,å‡½æ•°å†…éƒ¨æ²¡æœ‰thisçš„å¼•ç”¨æ—¶ã€‚æ²¡æœ‰é€’å½’ï¼Œäº‹ä»¶ç»‘å®šï¼Œè§£ç»‘å®š,è€ƒè™‘ç”¨ç®­å¤´å‡½æ•°çš„æ–¹å¼é‡æ„ä»£ç  [12, 3, 1234, 1, 4].sort((a, b)=&gt; a - b); å†…å±‚å‡½æ•°è¡¨è¾¾å¼ï¼Œéœ€è¦è°ƒç”¨this, var self = this æˆ–è€… bind(this)æ˜¾ç¤ºç»‘å®šthisæŒ‡å‘ï¼Œç¡®ä¿thisæŒ‡å‘æ­£ç¡®æ—¶ï¼Œèƒ½è€ƒè™‘ç”¨ç®­å¤´å‡½æ•°æ›¿ä»£ï¼Œå› ä¸ºè¿™ä¸¤ç§æƒ…å†µä¸‹çš„thiså¿…å®šä¸å¤–å±‚å‡½æ•°ä½œç”¨åŸŸä¸­çš„thisæŒ‡å‘ç›¸åŒï¼Œå› æ­¤é¿å…äº†å¤æ‚çš„æ“ä½œæ–¹å¼ä»¥æ”¹å˜this æ‹“å±•è¿ç®—ç¬¦çš„åº”ç”¨ä¾èµ–äºå°è£…å‡½æ•° var args = Array.prototype.slice.call(arguments); function sortNumber(){ return Array.prototype.slice.call(arguments).sort(function(a, b) =&gt; return a - b); } const sortNumber = (...numbers) =&gt; numbers.sort((a,b) =&gt; a - b); ä¸é€‚ç”¨åœºæ™¯è§„å¾‹ å½“å‡½æ•°å£°æ˜ï¼Œæ‰§è¡Œè¯­å¥æ¯”è¾ƒå¤šçš„æƒ…å†µï¼Œè¿˜éœ€è¦ç”¨åˆ°é€’å½’ï¼Œå¼•ç”¨å‡½æ•°åï¼Œä»¥åŠäº‹ä»¶ç»‘å®šï¼Œè§£ç»‘å®šï¼Œé¿å…ç”¨ç®­å¤´è¡¨è¾¾å¼","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"æ·±ç©¶ä¸åŒæƒ…å½¢ä¸‹äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„this","slug":"è¯¦è§£äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„this","date":"2020-08-03T14:48:48.623Z","updated":"2020-08-03T16:18:45.876Z","comments":true,"path":"2020/08/03/è¯¦è§£äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„this/","link":"","permalink":"/2020/08/03/è¯¦è§£äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„this/","excerpt":"","text":"æ·±ç©¶ä¸åŒæƒ…å½¢ä¸‹äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„thisç”±äºå›é¡¾Reactå®˜æ–¹æ–‡æ¡£äº‹ä»¶å¤„ç†partæ—¶æ³¨æ„åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå› æ­¤å†³å®šç»è¿‡ç›¸åº”è°ƒæŸ¥å’Œå®è·µåè®°å½•ä¸‹ä¸€äº›ç»†èŠ‚ä¸æƒ³æ³•ï¼ç›¸ä¿¡æœ¬ç¯‡æ–‡ç« èƒ½è§£é‡Šæ¸…æ¥šä¸åŒäº‹ä»¶å¤„ç†ä¸­çš„thisæŒ‡å‘é—®é¢˜ï¼åç»­ä¼šåœ¨Reactå¤ä¹ è¿‡ç¨‹ä¸­è®°å½•æ›´å¤šç»†èŠ‚çš„æ¢ç´¢è¿‡ç¨‹ï¼ é—®é¢˜æ¥æºclass Test extends React.Component { handleClick () { this.setState({}); } render () { return &lt;button onClick={this.handleClick}&gt;&lt;/button&gt; } } æ ¹æ®æ–‡æ¡£ï¼Œæˆ‘ä»¬çŸ¥é“è¿™é‡Œä¼šæŠ¥Cannot read property â€˜setStateâ€™ of undefined.äºæ˜¯æˆ‘ä»¬æ˜ç™½åº”é‡‡ç”¨bindæ–¹æ³•æ”¹å˜thisæŒ‡å‘æˆ–è€…é‡‡ç”¨ç®­å¤´å‡½æ•°ï¼å¦‚ä¸‹ 1.bind //è¿™æ˜¯jsx &lt;button onClick={this.handleClick.bind(this)}&gt;&lt;/button&gt; 2.ç®­å¤´å‡½æ•°ï¼š handleClick=()=&gt;{ this.setState({}); } æˆ‘ä»¬å…ˆä¸å»è°ˆè¿™ä¸¤ç§æ–¹å¼ä¸ºä½•èƒ½å¤Ÿè§£å†³é—®é¢˜ï¼Œè€Œæ˜¯æ€è€ƒä¸ºä»€ä¹ˆä¼šå‡ºç°thisæŒ‡å‘undefinedçš„æƒ…å†µï¼Ÿ å…³é”®ç‚¹çªç ´æˆ‘ä»¬ä¸å¦¨å…ˆçœ‹è¿™ä¸€æ®µæ¯”è¾ƒç»å…¸çš„ä»£ç ï¼ // ä½¿ç”¨ ES6 çš„ class è¯­æ³• class Cat { sayThis () { console.log(this); // è¿™é‡Œçš„ `this` æŒ‡å‘è°ï¼Ÿ } exec (cb) { cb(); } render () { this.exec(this.sayThis); } } const tom = new Cat(); tom.render(); // è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼ç”±äºthisæŒ‡å‘undefinedï¼Œå› æ­¤ç»“æœä¸ºundefinedè€Œæ¢åšä»¥ä¸‹ä»£ç  const jerry = { sayThis: function () { console.log(this); // è¿™é‡Œçš„ `this` æŒ‡å‘è°ï¼Ÿ }, exec: function (cb) { cb(); }, render: function () { this.exec(this.sayThis); }, } jerry.render(); // è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ ç»“æœå˜ä¸ºäº†window.å…¶å®ç»“æœå¹¶ä¸æ„å¤–ï¼ŒåŸå› æ˜¯thisçš„æŒ‡å‘ä¸å‡½æ•°çš„æ˜¾ç¤ºè°ƒç”¨è€…æœ‰å…³ï¼å¦‚obj.eatä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒç»™å¦ä¸€ä¸ªå‡½æ•°å¯¹è±¡èµ‹å€¼ï¼Œåˆ™f1=obj.eat,obj.eatä¸window.f1åœ¨æ§åˆ¶å°console.logå‡ºæ¥çš„ç»“æœç›¸åŒï¼è€Œthisçš„æŒ‡å‘å´å‘ç”Ÿäº†å˜åŒ–. æˆ‘ä»¬éœ€è¦æ˜ç™½ä¸ç”¨è°ƒç”¨è€…æ˜¾å¼è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œjsè§£é‡Šå™¨ä¼šæŠŠf1()å½“åšf1.call(global)æ˜¯ä¸€æ ·çš„ï¼ å¼€å¯äº†ä¸¥æ ¼æ¨¡å¼åˆ™åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ä¼šè‡ªåŠ¨ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œå› æ­¤thisæŒ‡å‘undefined. å¦‚æœä½ ä½¿ç”¨äº† ES6 çš„ class è¯­æ³•ï¼Œæ‰€æœ‰åœ¨ class ä¸­å£°æ˜çš„æ–¹æ³•éƒ½ä¼šè‡ªåŠ¨åœ°ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ è¿™æ˜¯ç›¸å½“é‡è¦çš„ä¸€ç‚¹ï¼ æˆ‘ä»¬æ­¤æ—¶å†å›é¡¾ä¸Šé¢çš„ä¸¤ç«¯ä»£ç ï¼Œæˆ‘ä»¬ä¼šå‘ç°å½“æ—¶æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°ä¼ é€’ç»™äº†å½¢å‚cbï¼Œç›¸å½“äºç»™cbèµ‹å€¼äº†ï¼Œå› æ­¤æ‰§è¡Œcb()ä»£ç æ—¶æ˜¯æ²¡æœ‰æ˜¾å¼è°ƒç”¨è€…çš„ï¼ æ–°çš„ç–‘ç‚¹æˆ‘ä»¬æ³¨æ„åˆ°ä¸Šè¿°çš„æƒ…å½¢æ˜¯å½“è¢«è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„å½¢å‚æ—¶ä¼šå‡ºç°thisæŒ‡å‘ä¸æ˜çš„é—®é¢˜ï¼ç„¶è€Œä¾‹å¦‚ onClick = {this.handleClick} è¿™ç±»ç»‘å®šäº‹ä»¶ç›‘å¬å‡½æ•°çš„æ–¹æ³•æ˜¯ä¸ä¸Šè¿°æƒ…å†µç­‰åŒçš„å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´this.handleClickä¼šä½œä¸ºè¢«è°ƒå‡½æ•°ä¼ é€’ç»™å½¢å‚ï¼Ÿæˆ‘ä»¬åˆè”æƒ³åˆ°ä¹‹å‰å­¦ä¹ åˆ°ä»¥xx.addEventListner()ç»™å¯¹è±¡ç»‘å®šäº‹ä»¶ç›‘å¬å‡½æ•°çš„æ–¹æ³•ï¼Œè€Œæ­¤ç±»æ–¹æ³•çš„ç»“æœæ˜¯thisæŒ‡å‘å½“å‰å¯¹è±¡ï¼Œè¿™åˆæ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿ æ¢³ç†æ€è·¯å¯»æ‰¾ç­”æ¡ˆå‰é¢æåˆ°äº†å½“å‡½æ•°ä½œä¸ºæ–¹æ³•è°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼Œ å½“å‡½æ•°ä½œä¸ºåµŒå¥—å‡½æ•°è°ƒç”¨æ—¶ï¼Œ thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰æˆ–è€…undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰è€Œä¸æ˜¯å…¶å¤–åŒ…å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼ å› æ­¤ä¸€ä¸ªåˆç†çš„è§£é‡Šæ˜¯: addEventListenerä¸­çš„äº‹ä»¶å‡½æ•°é»˜è®¤æ˜¯ä½œä¸ºè°ƒç”¨addEventListenerçš„å¯¹è±¡çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä¼šæ”¾å…¥åˆ°è¯¥å¯¹è±¡çš„listeneræ•°ç»„ä¸­ï¼ˆè®¾å¯¹è±¡çš„ç›‘å¬å™¨æ–¹æ³•ç”¨listenerå­˜å‚¨ï¼‰ï¼Œåœ¨é¢å¯¹ç‰¹å®šäº‹ä»¶æ—¶ï¼Œä¼šç›´æ¥è°ƒç”¨listenerä¸­çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè°ƒç”¨è€…å³æ˜¯è¯¥å¯¹è±¡ï¼ è€Œä¸æ˜¯é‡‡ç”¨åµŒå¥—å‡½æ•°è°ƒç”¨ï¼Œå³ä¸æ˜¯ä½œä¸ºå‡½æ•°å‚æ•°ä»¥ä¼ é€’ç»™å½¢å‚çš„è¿™ç§æ–¹å¼çš„è°ƒç”¨ï¼ åŒæ—¶æˆ‘ä»¬ä¹Ÿæ¨å‡ºï¼Œæ— è®ºæ˜¯ä¼ ç»™addEventListenerçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°åè¿˜æ˜¯å®Œæ•´çš„åŒ¿åå‡½æ•°ï¼Œå…¶å®ç›¸å½“äºç»™objçš„listneræ•°ç»„é‡Œèµ‹å€¼ï¼Œæœ€ç»ˆè°ƒç”¨æ—¶å®ƒä»¬éƒ½æˆä¸ºäº†objçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå³è¢«objè°ƒç”¨ï¼ é‚£ä¹ˆå…¶ä»–ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°çš„æ–¹å¼ä¸­çš„thiså‘¢?æˆ‘ä»¬å‘ç°addEventListenerå’Œdomå…ƒç´ æ·»åŠ å†…è”å‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°çš„ç»“æœç›¸ä¼¼ï¼Œå¦‚ä¾‹å­ &lt;button onclick=&quot;alert(this.tagName.toLowerCase())&quot;&gt; show this &lt;/button&gt;//è¾“å‡ºbutton ä»è¾“å‡ºç»“æœå¯çŸ¥thisæŒ‡å‘çš„æ˜¯button.è¿™ç§ç»™htmlçš„onclickèµ‹å€¼çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ·»åŠ å†…è”å‡½æ•°ï¼Œä¸€ç§æ˜¯é‡‡ç”¨ä»¥ä¸‹è¿™ç§æ–¹å¼ï¼Œè€Œè¿™ç§æ–¹å¼çš„thisæŒ‡å‘window. function f1(){ alert(this.tagName.toLowerCase() } &lt;button onclick=&quot;f1()&quot;&gt;... å…¶å®æˆ‘ä»¬å·²ç»èƒ½å¤Ÿåˆç†è§£é‡Šä¸ºä»€ä¹ˆä¸¤è€…thisæŒ‡å‘ä¸åŒäº†ï¼ŒåŸå› æ˜¯èµ‹å€¼ç»™onclickå±æ€§åï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡æ˜¯è¿™æ ·çš„æƒ…å½¢ï¼š javascriptå¼•æ“å°†å±æ€§å†…å®¹ä¿å­˜ä¸ºå­—ç¬¦ä¸²ï¼Œè€Œåœ¨å½“ç”¨æˆ·ç‚¹å‡»è¯¥buttonæ—¶ï¼Œåˆ™ä¼šå°†ä¼šå¯¹å†…å®¹è¿›è¡Œè¯„ä¼°ï¼è€Œå¦‚æœæ˜¯ä¸€æ®µä»£ç å­—ç¬¦ä¸²ï¼Œæ˜¯buttonè°ƒç”¨çš„ï¼Œå› æ­¤thisè‡ªåŠ¨ç»‘å®šåœ¨buttonä¸Š.è€Œç¬¬äºŒç§æƒ…å†µï¼Œonclickå±æ€§å†…å®¹æ˜¯f1(),åœ¨ç‚¹å‡»buttonæ—¶ï¼Œä¼šæ‰§è¡Œf1()ï¼Œå…¶ä¸­f1æ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨è€…ï¼Œå› æ­¤f1çš„å¯¹è±¡æŒ‡å‘window.è¦æƒ³ä¼ å…¥this,å…¶å®åªéœ€è¦å°†thisä½œä¸ºå‚æ•°ä¼ ç»™f1ï¼Œå³f1(this)ï¼Œå¹¶åœ¨f1å†…ç”¨å˜é‡æ¥æ”¶ï¼Œæ­¤æ—¶çš„thisæŒ‡å‘çš„æ˜¯buttonï¼ å…¶å®è¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œå³åˆ©ç”¨obj.onclickç»™domå…ƒç´ å¢åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œobj.onclick = f1,è¿™ç§æƒ…å†µä¸‹ï¼Œå…ˆç»™å‡ºç»“æœï¼ŒthisæŒ‡å‘obj.å¯çŸ¥å…¶ç¡®å®ä¸åœ¨htmlå…ƒç´ ä¸Šç›´æ¥æ·»åŠ çš„ç»“æœä¸ä¸€æ ·ï¼è€Œå‡ºç°è¿™æ ·çš„ç»“æœåŸå› åªå¯èƒ½æ˜¯åœ¨è°ƒç”¨å‡½æ•°f1æ—¶ï¼Œå‡½æ•°è°ƒç”¨è€…æ˜¯obj.ä¹Ÿå°±æ˜¯è¯´å› ä¸ºèµ‹å€¼ï¼Œä½¿å¾—è°ƒç”¨çš„ç›®æ ‡è¢«æ”¹å˜ï¼Œä¸å†æ˜¯f1,è€Œæ˜¯objçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸addEventListenerçš„æœºç†å’Œç»“æœç›¸ä¼¼çš„ï¼ æ€»ç»“æœ¬ç¯‡æ–‡ç« åˆ†æäº†å„ç§ä¸åŒæ¡ä»¶ä¸‹çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸­thisçš„æŒ‡å‘é—®é¢˜ï¼Œæ—¢ç»™å‡ºäº†ç»“æœï¼Œä¹Ÿç»™å‡ºäº†åˆ†æè¿‡ç¨‹ï¼Œå¯¹äºæˆ‘ä¸ªäººè€Œè¨€æ”¶è·è¿˜æ˜¯è›®å¤§çš„ï¼ŒçŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œè‰¯å¥½çš„åˆ†æä¹ æƒ¯æœ‰åˆ©äºæ›´é•¿ä¹…çš„å­¦ä¹ ï¼åŒæ—¶åˆ†æè¿‡ç¨‹å½“ç„¶å¯èƒ½å‡ºç°é—®é¢˜ï¼Œæ¬¢è¿æŒ‡æ­£ï¼ æœ€åç»™å‡ºç»“è®ºï¼š Reactä¸­ç»‘å®šæ—¶é—´å‡½æ•°çš„æ–¹å¼://jsx {&lt;button onClick={f1}&gt;&lt;/button&gt;} thisæŒ‡å‘undefined(ä¸¥æ ¼æ¨¡å¼) ç›¸å½“äºç›´æ¥åœ¨htmlä¸Šæ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°//html &lt;button onClick=&quot;f1()&quot;&gt;&lt;/button&gt; thisæŒ‡å‘window(éä¸¥æ ¼æ¨¡å¼) htmlä¸Šæ·»åŠ å†…è”å‡½æ•°//html &lt;button onclick=&quot;alert(this.tagName.toLowerCase())&quot;&gt;&lt;/button&gt; thisæŒ‡å‘button ä¸ä¸‹é¢è¿™ä¸¤ç§ç»“æœä¹Ÿä¸€æ ·ï¼ å°†ä¸Šè¿°äº‹ä»¶å¤„ç†å‡½æ•°åº”ç”¨äºä»¥ä¸‹æƒ…å½¢ï¼š obj.addEventListener /obj.onclick,thiséƒ½æŒ‡å‘obj. å…¶å®æ ¸å¿ƒä»…ä»…åœ¨äºåˆ¤æ–­å‡½æ•°æ˜¯ä½œä¸ºæ–¹æ³•è°ƒç”¨è¿˜æ˜¯ä½œä¸ºåµŒå¥—å‡½æ•°è°ƒç”¨ï¼è€Œç®­å¤´å‡½æ•°æ›´åŠ å•çº¯ï¼Œå…¶å®æ›´ç®€å•ï¼Œå› æ­¤ä¸åŠ è®¨è®ºï¼","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"},{"name":"React","slug":"React","permalink":"/tags/React/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"ES6é‡éš¾ç‚¹ç»†è§£","slug":"ES6é‡éš¾ç‚¹ç»†è§£","date":"2020-07-29T11:46:57.418Z","updated":"2020-07-29T13:12:11.415Z","comments":true,"path":"2020/07/29/ES6é‡éš¾ç‚¹ç»†è§£/","link":"","permalink":"/2020/07/29/ES6é‡éš¾ç‚¹ç»†è§£/","excerpt":"","text":"ES6é‡éš¾ç‚¹ç»†è§£è§£æ„èµ‹å€¼æ ¸å¿ƒç‚¹&nbsp;&nbsp;è¯¦ç»†è¯·çœ‹æ˜é‡‘ä¸Šçš„è¿™ç¯‡æ–‡ç« ES6ç³»åˆ—è§£æ„èµ‹å€¼å…¨è§£æ&nbsp;&nbsp; è§£æ„èµ‹å€¼çš„å‡ºç°é¿å…äº†èµ‹å€¼è¿‡ç¨‹ä¸­å¾ªç¯çš„åµŒå¥—ä¸å¤æ‚ä»£ç çš„äº§ç”Ÿï¼ å¯¹è±¡çš„è§£æ„èµ‹å€¼ ä¸å¯¹è±¡å±æ€§åŒåçš„å˜é‡èƒ½å¤Ÿè¢«æˆåŠŸèµ‹å€¼ï¼Œå¦‚ï¼š let details = { firstName:&#39;Code&#39;, lastName:&#39;Burst&#39;, age:22 } const {firstName,age} = details; console.log(firstName); // Code console.log(age); // 22 ä¸åŒåçš„å˜é‡é€šè¿‡æ˜ å°„èµ‹å€¼ï¼Œé€šè¿‡å†’å·æ˜ å°„ï¼Œå¦‚ï¼š const person = { name: &#39;jsPool&#39;, country: &#39;China&#39; }; const {name:fullname,country:place} = person; console.log(fullname); // jsPool console.log(place); // China é»˜è®¤å€¼ï¼Œåº”ç”¨äºå½“å±æ€§ä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥ç”¨=æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼* åµŒå¥—å¯¹è±¡ä¸æ­¤ç›¸ä¼¼ï¼ æ•°ç»„çš„è§£æ„èµ‹å€¼ è§£æ„ç´¢å¼•å¯¹åº”çš„å€¼ï¼Œç”¨å˜é‡æŒ‰é¡ºåºæ¥æ”¶ï¼Œå› æ­¤å¯ç”¨â€,â€å·å ä½çœç•¥å…ƒç´ ï¼å¦‚ let list = [221,&#39;Baker Street&#39;,&#39;London&#39;]; let [houseNo,,city] = list; console.log(houseNo,city);// 221 , London ä¸å®šå…ƒç´ let colors = [&#39;red&#39;,&#39;green&#39;,&#39;blue&#39;]; let [firstColor,...otherColors] = colors; console.log(firstColor); // red console.log(otherColors); // [&#39;green&#39;,&#39;blue&#39;] è§£æ„èµ‹å€¼çš„åº”ç”¨åœºåˆï¼š äº¤æ¢å˜é‡å€¼ï¼š[x, y] = [y, x] è¿”å›å‡½æ•°å¤šä¸ªå€¼ï¼šconst [x, y, z] = Func() å®šä¹‰å‡½æ•°å‚æ•°é»˜è®¤å€¼ï¼šfunction Func({ x = 1, y = 2 } = {}) {} å®šä¹‰å‡½æ•°å‚æ•°ï¼šFunc([1, 2]),åœ¨è°ƒç”¨æ—¶ä¼šå°†1,2ä¼ é€’ç»™[x,y]ä¸­çš„xå’Œyï¼ æå–JSONæ•°æ®ï¼šconst { name, version } = packageJson éå†Mapç»“æ„ï¼šfor (let [k, v] of Map) {} è¾“å…¥æ¨¡å—æŒ‡å®šå±æ€§å’Œæ–¹æ³•ï¼šconst { readFile, writeFile } = require(â€œfsâ€) å‡½æ•°æ‹“å±• å¯ä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œä¸”è®¾ç½®ä¹‹åï¼Œå‡½æ•°è¿›è¡Œå£°æ˜åˆå§‹åŒ–æ—¶ï¼Œå‚æ•°ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„context,ä½œç”¨åŸŸåœ¨åˆå§‹åŒ–ç»“æŸåæ¶ˆå¤±,å¦‚: var x = 1; function f(x, y = x) { console.log(y); } f(2) // 2 è°ƒç”¨å‡½æ•°fæ—¶ï¼Œå‚æ•°å½¢æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œåœ¨æ­¤ä½œç”¨åŸŸä¸­ï¼Œé»˜è®¤å˜é‡xæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°xè€Œä¸æ˜¯å…¨å±€å˜é‡x let x = 1; function f( y = x ) { let x = 2; console.log(y); } f() // 1 åœ¨y=xå½¢æˆçš„ä½œç”¨åŸŸä¸­ï¼Œå˜é‡xæ²¡æœ‰å®šä¹‰å› æ­¤æŒ‡å‘å¤–å±‚å˜é‡xï¼Œè°ƒç”¨æ—¶ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å±€éƒ¨å˜é‡xæ— æ³•å½±å“é»˜è®¤å€¼å˜é‡xï¼ tips:å¯ç”¨å»¶å±•è¿ç®—ç¬¦ä½œä¸ºå‡½æ•°å‚æ•°æ¥å—å¤šä¸ªå€¼ ç®­å¤´å‡½æ•°: ç®­å¤´å‡½æ•°å¦‚æœè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™åœ¨å¤–é¢åŠ ä¸€ä¸ªæ‹¬å·ï¼ ç”±ç®­å¤´å‡½æ•°è¿™å¼•ç”³å‡ºçš„thisæŒ‡å‘é—®é¢˜ï¼Œå¯çœ‹æ˜é‡‘çš„è¿™ç¯‡æ–‡ç« jsçš„thisæŒ‡æ¥æŒ‡å»åˆ°åº•æŒ‡å‘å“ª æ³¨æ„setTimeoutæ‰§è¡Œç¯å¢ƒæ˜¯window,å› ä¸ºæ˜¯window.setTimeout æ™®é€šfunctionè°ƒç”¨ä¸newæ„é€ å‡½æ•°functionåˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯¹è±¡thisæŒ‡å‘ä¸åŒï¼æ‰€ä»¥éå®ä¾‹åŒ–(new)è°ƒç”¨functionï¼Œthiséƒ½æŒ‡å‘window å¯¹è±¡ä¸­åˆ›å»ºçš„å‡½æ•°ä¸­çš„thiså§‹ç»ˆæŒ‡å‘æœ€åä¸€ä¸ªè°ƒç”¨å®ƒçš„å¯¹è±¡ é—­åŒ…ä¸­çš„thisæŒ‡å‘ï¼Œé—­åŒ…å‡½æ•°å…·æœ‰åŒ¿åå‡½æ•°è‡ªæ‰§è¡Œçš„ç‰¹æ€§ï¼Œé»˜è®¤thisæŒ‡å‘æ˜¯æŒ‚åœ¨windowä¸‹çš„ ç®­å¤´å‡½æ•°ä¸­çš„thisä¸ºå®šä¹‰æ—¶ç»‘å®šï¼Œå°±æ˜¯ç»‘å®šæœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„thisï¼Œå¯¹è±¡ä¸­ç®­å¤´å‡½æ•°thisæŒ‡å‘windowä¸”æ— æ³•æ”¹å˜ å¤šå±‚å¯¹è±¡åµŒå¥—é‡Œç®­å¤´å‡½æ•°çš„thiså’Œæœ€å¤–å±‚ä¿æŒä¸€è‡´ï¼ const obj = { a: function() { console.log(this) }, b: { c: () =&gt; {console.log(this)} } } obj.a() //æ²¡æœ‰ä½¿ç”¨ç®­å¤´å‡½æ•°æ‰“å‡ºçš„æ˜¯obj obj.b.c() //æ‰“å‡ºçš„æ˜¯windowå¯¹è±¡ï¼ï¼ å¯¹è±¡æ‹“å±•ä¸Map,Symbol,Setæ•°ç»„ä¸å¯¹è±¡æ‹“å±•ä»¥åŠ Symbol,Setå’ŒMap Symbolå¸¸ç”¨åœ¨ä¸ºå¯¹è±¡å–ç‹¬ä¸€æ— äºŒçš„å±æ€§åæ—¶ ç›´æ¥Symbol()è°ƒç”¨ï¼Œæ¥å—å­—ç¬¦ä¸²ä¸ºæè¿°ï¼ŒSymbolå€¼èƒ½è½¬ä¸ºå¸ƒå°”å€¼ Symbolä½œä¸ºå¯¹è±¡æ—¶ä¸èƒ½ç”¨.è¿ç®—ç¬¦ï¼Œå› ä¸º.è¿ç®—ç¬¦çš„åé¢å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤ç”¨obj[s] å±æ€§åä¸èƒ½è¢«å¸¸è§„æ–¹æ³•éå†å¾—åˆ°ï¼Œå³ä¸èƒ½å‡ºç°åœ¨forâ€¦in,forâ€¦ofå¾ªç¯ä¸­ï¼ŒObject.keys(),Object.getOwnPropertyNames()å¾—åˆ°ï¼Œå¯ä»¥ç”¨getOwnPropertySymbolså¾—åˆ°æ‰€æœ‰çš„å±æ€§åï¼ Symbol.foræŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªSymbolå€¼ï¼Œæ²¡æœ‰åˆ™æ–°å»ºï¼ Symbol.keyForè¿”å›ä¸€ä¸ªå·²ç™»è®°çš„Symbolç±»å‹å€¼çš„keyï¼Symbol.forä¸ºSymbolç™»è®°çš„åå­—æ˜¯å…¨å±€ç¯å¢ƒçš„ï¼* Setç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼å¯ç›´æ¥ç”¨äºæ•°ç»„å»é‡[â€¦new Set(array)] å¸¸è§æ–¹æ³•æœ‰add,delete,has,clear* Setå®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•,keys,values,entries,forEachåŒMap Mapç±»ä¼¼äºå¯¹è±¡ï¼Œæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯é”®çš„èŒƒå›´å¾ˆå¤§ï¼ŒåŒ…æ‹¬å¯¹è±¡éƒ½å¯ä»¥æ˜¯é”®ï¼ å¸¸è§æ–¹æ³•æœ‰ï¼šset(key,val),get,delete,has,clear jsçš„å››ç§forå¾ªç¯æ˜é‡‘ä¸Šçš„è¿™ç¯‡æ–‡ç« è®²è§£çš„éå¸¸åˆ°ä½ï¼šjsçš„å››ç§forå¾ªç¯","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"egretæ¸¸æˆå¼€å‘","slug":"egretæ¸¸æˆå¼€å‘","date":"2020-07-16T02:30:04.499Z","updated":"2020-07-16T02:36:08.761Z","comments":true,"path":"2020/07/16/egretæ¸¸æˆå¼€å‘/","link":"","permalink":"/2020/07/16/egretæ¸¸æˆå¼€å‘/","excerpt":"","text":"å¼•è¨€æ¸¸æˆç›®å‰é˜¶æ®µæœ‰ä»¥ä¸‹éœ€æ±‚ï¼š åˆ¶ä½œè‹±é›„å›¾demoä¸ç›¸å…³åŠ¨ä½œç‰¹æ•ˆ æ¢ç©¶å®ç°é®ç½©ä¸ç¢°æ’æ£€æµ‹ ç¼“åŠ¨è¿‡ç¨‹çš„äº‹ä»¶å¤„ç† æ¢ç©¶å­å¼¹ç±»çš„å¤„ç† æ¢ç©¶å¯»è·¯ç®—æ³• ç»“åˆegretçš„h5æ¸¸æˆå¼€å‘æŒ‡å—ï¼Œä»¥åŠåŸºç¡€çŸ¥è¯†çš„è¡¥å……ï¼Œå¯ä»¥å¯¹è¿™äº›é—®é¢˜æœ‰å…·è±¡åŒ–çš„è®¤è¯†ï¼Œè€Œä¸æ˜¯æ— ä»ä¸‹æ‰‹ï¼Œå› æ­¤å¯¹æ ¸å¿ƒå†…å®¹è¿›è¡Œè‡ªå·±çš„ä¸€äº›æ€»ç»“ï¼Œéƒ¨åˆ†æ‘˜è‡ªæŒ‡å—ï¼Œéƒ¨åˆ†æ˜¯å°è¯•è¿‡ç¨‹ä¸­çš„ç»“è®ºã€‚ æ¸¸æˆåŸºç¡€æ˜¾ç¤ºå¯¹è±¡ æ˜¾ç¤ºå¯¹è±¡æ˜¯èƒ½å‚ä¸æ¸²æŸ“çš„å¯¹è±¡çš„æŠ½è±¡è¡¨ç¤º éœ€è¦äº†è§£çš„æ˜¯DisplayObjectç±»æ˜¯æ˜¾ç¤ºå¯¹è±¡åŸºç±»ã€‚ Spriteç±»ï¼Œæ˜¯ç”¨æ¥ç»˜åˆ¶çŸ¢é‡å›¾å½¢/å……å½“å®¹å™¨ã€‚ Bitmapæ˜¾ç¤ºä½å›¾ MovieClipç±»ï¼Œä¹Ÿæ˜¯ç»§æ‰¿è‡ªæ˜¾ç¤ºå¯¹è±¡ç±»ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥ç±»åˆ¶ä½œå¸§åŠ¨ç”»ï¼Œå¹¶æ‹¥æœ‰æ˜¾ç¤ºå¯¹è±¡ç±»çš„æ‰€æœ‰æ–¹æ³•åé¢ä¼šç»™å‡ºä¾‹å­ã€‚ Shapeç±»ï¼Œç”¨æ¥ç»˜åˆ¶çŸ¢é‡å›¾å½¢ â€¦. æ˜¾ç¤ºåˆ—è¡¨ï¼šæ˜¾ç¤ºå¯¹è±¡åŠ å…¥æ˜¾ç¤ºåˆ—è¡¨ä¸­æ‰èƒ½è¢«æ¸²æŸ“ å¸¸è§çš„:addChildå°±æ˜¯è®©æ˜¾ç¤ºå¯¹è±¡åŠ å…¥æ˜¾ç¤ºåˆ—è¡¨ï¼Œè€ŒaddChildçš„è°ƒç”¨è€…æ˜¯æ˜¾ç¤ºå®¹å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰æ˜¾ç¤ºå®¹å™¨å¯ä»¥è°ƒç”¨ï¼Œä¸”å…¶å¯ä»¥åµŒå¥—ã€‚ DisplayObjectä¸DisplayObjectContainerçš„å…³ç³» DisplayObjectContainerç»§æ‰¿è‡ªDisplayObjectç±»ï¼Œå› æ­¤æ˜¾ç¤ºå®¹å™¨ä¹Ÿå…·æœ‰æ˜¾ç¤ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚Spriteæ˜¯æ˜¾ç¤ºå®¹å™¨ï¼ŒShapeæ˜¯æ˜¾ç¤ºå¯¹è±¡ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæ˜¾ç¤ºå¯¹è±¡å®¹å™¨ç»§æ‰¿è‡ªæ˜¾ç¤ºå¯¹è±¡ï¼ŒaddChildä¹Ÿå¯ä»¥ä½œç”¨äºå®¹å™¨ã€‚ Shapeç±»ç»˜åˆ¶çŸ¢é‡å›¾åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨ä¸å¤šæš‚ä¸å¤šè§£é‡Šï¼Œæœ‰éœ€æ±‚å†å»æŸ¥apiæ–‡æ¡£å³å¯ã€‚ å¿…è¦æ—¶å¯åˆ›å»ºå®¹å™¨ï¼Œé›†æˆä¸€äº›ç›¸è”çš„æ˜¾ç¤ºå¯¹è±¡ç»„ä»¶ï¼Œè¿›è¡Œå¤„ç†ï¼Œå¢åˆ æ˜¾ç¤ºå¯¹è±¡ åœ¨æ˜¾ç¤ºåˆ—è¡¨åˆ é™¤æ˜¾ç¤ºå¯¹è±¡ï¼Œå³ç»“æŸæ˜¾ç¤ºå¯¹è±¡çš„æ¸²æŸ“ï¼Œå¦‚this.addChild(#ä¸€ä¸ªå¸§åŠ¨ç”»#)ï¼Œå¸§åŠ¨ç”»å¯ä»¥ä½¿ç”¨stopæ–¹æ³•åœæ­¢ï¼Œå¦‚æœæƒ³ç»“æŸå…¶æ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨this.removeChildã€‚å¯è§æ˜¾ç¤ºå¯¹è±¡ç‹¬ç«‹äºæ˜¾ç¤ºåˆ—è¡¨ä¹Ÿå°±æ˜¯è¯´removeChildä¹‹åéœ€è¦åœ¨å†…å­˜ä¸­åˆ é™¤æ‰ç®—å½»åº•é”€æ¯ã€‚ æ˜¾ç¤ºå¯¹è±¡åªèƒ½åŠ å…¥åˆ°ä¸€ä¸ªæ˜¾ç¤ºåˆ—è¡¨ä¸­ æ˜¾ç¤ºå¯¹è±¡è®¾ç½®çš„x,yåæ ‡å±æ€§æ˜¯ç›¸å¯¹åæ ‡ç³»ï¼Œå…¶ä¸­æ˜¾ç¤ºå¯¹è±¡å…·ä½“ä½ç½®ä¹Ÿä¸é”šç‚¹æœ‰å…³(åç»­ä¼šæœ‰ç›¸å…³è¿ç”¨) é®ç½©ä¸ç¢°æ’ æ˜¾ç¤ºå¯¹è±¡éƒ½å…·å¤‡é®ç½©åŠŸèƒ½ ä½¿ç”¨egret.Rectangle(firstx,firsty,lastx,lasty)åˆ›å»ºä¸€å—çŸ©å½¢åŒºåŸŸrectï¼Œ ç„¶åè®¾ç½®obj.mask = rect.å³è®¾ç½®äº†é®ç½©ã€‚ obj.mask=nullå–æ¶ˆã€‚ ç¢°æ’æ£€æµ‹ éç²¾ç¡®ç¢°æ’æ£€æµ‹ æ˜¾ç¤ºå¯¹è±¡çš„æ–¹æ³•ï¼ŒhitTestPoint,æ£€æµ‹æ˜¯å¦ä¸æŒ‡å®šç‚¹ç›¸äº¤ï¼Œç›®å‰æ¥è¯´æ„ä¹‰ä¸å¤§ã€‚ ç²¾ç¡®ç¢°æ’æ£€æµ‹ hitTestPointæ–¹æ³•å¢åŠ ä¸€ä¸ªå‚æ•°ï¼Œtrueå¼€å¯ç²¾ç¡®ç¢°æ’æ£€æµ‹ï¼Œæ¶ˆè€—æ›´å¤šèµ„æºï¼Œæ˜¯åŸºäºåƒç´ çš„æ£€æµ‹è€Œä¸æ˜¯åŒ…å›´ç›’ã€‚ åŒ…å›´ç›’æ£€æµ‹ æ–‡æ¡£ä¸­æ²¡æœ‰æåˆ°è¿™ä¸ªï¼Œä½†æ˜¯æŒ‡å—ä¸­ç»™å‡ºäº†ï¼Œæ€è·¯æ˜¯åˆ©ç”¨ä¸¤ä¸ªåŒ…å›´ç›’ï¼Œå³åˆ©ç”¨egret.Rectangleç¡®å®šä¸¤ä¸ªçŸ©å½¢åŒºåŸŸï¼Œç„¶ååˆ©ç”¨Rectangleç±»ä¸­çš„æ–¹æ³•inersectsï¼Œrect1.intersects(rect2)æ¥åˆ¤æ–­æ˜¯å¦ç›¸äº¤ã€‚ åŠ¨ç”» å¯¹äºåŠ¨ç”»ï¼Œegretæä¾›å¤šç§å¤„ç†ï¼Œå¦‚é€å¸§åŠ¨ç”»ï¼Œæˆ–æ˜¯tweenåº“å®ç°ç¼“åŠ¨åŠ¨ç”» é€å¸§åŠ¨ç”» ç´ æåˆ¶ä½œ é‡‡ç”¨gifå›¾ç‰‡è½¬æ¢çš„æ–¹å¼ã€‚å¯ä»¥ç”Ÿæˆé€å¸§åŠ¨ç”»å›¾ç‰‡å’Œé€å¸§åŠ¨ç”»æ•°æ®ï¼Œåˆ©ç”¨çš„å·¥å…·æ˜¯Texture Merger,å¯¼å‡ºæœ€ç»ˆæ–‡ä»¶åŒ…å«ä¸¤ä¸ªä¸€ä¸ªæ˜¯æè¿°åŠ¨ç”»çš„é…ç½®æ–‡ä»¶.json,ä¸€ä¸ªæ˜¯å›¾ç‰‡çº¹ç†é›†ã€‚ ç´ æå¼•å…¥ egretProperties.jsoné…ç½®æ–‡ä»¶éœ€è¦å¢åŠ gameåº“ï¼ŒåŸå› æ˜¯è¿™ä¸ªåŠ¨ç”»å¸§ç±»æ˜¯æ¥è‡ªgameåº“çš„ default.res.jsoné…ç½®æ–‡ä»¶åŠ å…¥å¯¼å…¥çš„jsonæ–‡ä»¶å’Œçº¹ç†é›†å›¾ç‰‡ã€‚ åˆ›å»ºé€å¸§åŠ¨ç”» MovieClipä¸­çš„MovieClipDataæ˜¯å­˜å‚¨é€å¸§åŠ¨ç”»æ•°æ®ï¼Œè€ŒMovieClipDataFactoryæ˜¯ç”¨æ¥å­˜å‚¨MoiveClipDataå’ŒTexture,å­˜å‚¨æ•°æ®å’Œçº¹ç†çš„ã€‚ MovieClipåŠŸèƒ½çš„ç®€åŒ–ï¼Œä½¿å¾—åªä¿ç•™å’ŒåŠ¨ç”»ç›¸å…³çš„é€»è¾‘ï¼Œè€Œæ•°æ®ï¼Œçº¹ç†ç›¸å…³çš„æ“ä½œä¸å…¶åˆ†ç¦»ã€‚ MovieClipçš„ä½¿ç”¨ï¼š å…ˆä½¿ç”¨RES.getRes()è·å¾—èµ„æºï¼ˆæ•°æ®å’Œçº¹ç†é›†ï¼‰ ç„¶ånew egret.MovieClipDataFactory(data,tex)å¾—åˆ°ä¸€ä¸ªmovieClipDataFactory new egret.MovieClip(mcf.generateMovieClipData(â€œmcName(jsonæ–‡ä»¶ä¸­æ‰¾åˆ°)â€)) å³å¯åˆ›å»ºä¸€ä¸ªMovieClip.åŒ…å«jsonä¹ŸåŒ…å«çº¹ç†é›†ï¼Œè€Œjsonæ–‡ä»¶ä¸­å¯ä»¥å¾—åˆ°ä¸åŒå¸§èµ„æºåã€‚åˆšåˆ›å»ºçš„æ—¶å€™åªèƒ½å¾—åˆ°ç¬¬ä¸€å¸§èµ„æºï¼Œæ‰€ä»¥mcf.spriteSheet.getTexture(â€œç¬¬ä¸€å¸§èµ„æºåâ€)ï¼Œè¿™ä¸ªä¼¼ä¹ä¸æ˜¯å¾ˆé‡è¦. å…¶å®ƒçš„ä¾‹å¦‚åœæ­¢åŠ¨ç”»ï¼Œè·³è½¬åŠ¨ç”»ï¼ŒåŠ¨ç”»ç¼“å­˜çš„apiéƒ½å¯ä»¥ç”¨åˆ°æ—¶å†æŸ¥é˜…äº†è§£ã€‚ è¿˜å¯ä»¥ç»™å¸§å›¾ç‰‡æ·»åŠ äº‹ä»¶ã€‚è¿™ä¸ªæˆ‘æ²¡æœ‰è¯•è¿‡ä¸è¿‡åº”è¯¥å¾ˆæœ‰æ„ä¹‰ã€‚ tweenç¼“åŠ¨åŠ¨ç”» egret.Tween.getå®šä¹‰ç¼“åŠ¨ ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥åŠ å…¥å˜åŒ–äº‹ä»¶å¤„ç†å‡½æ•°çš„å®šä¹‰æ¥å®ç°é€»è¾‘çš„å®æ—¶å˜åŒ– å¦‚var obj = {x:0}; var funcChange = function():void{ console.log(this.x); } egret.Tween.get(obj,{onChange:funcChange,onChangeObj:obj}).to({x:600},1000,egret.Ease.backInOut); ç¼“åŠ¨å¯¹è±¡çš„æ§åˆ¶æœ‰ä¸€äº›æ–¹æ³• ä¸»è¦æœ‰ä¸¤ç§å¦‚callï¼Œç”¨äºç¼“åŠ¨åçš„å›è°ƒ å¦‚waitç”¨äºæŒ‡å®šå¤šä¸ªç¼“åŠ¨è¿ç»­è®¾å®šä¸­è®¾ç½®ä¸­é—´ç­‰å¾…æ—¶é—´ åº”ç”¨è§£å†³é’ˆå¯¹ä»¥ä¸‹éœ€æ±‚ï¼š åˆ¶ä½œè‹±é›„å›¾demoä¸ç›¸å…³åŠ¨ä½œç‰¹æ•ˆ æ¢ç©¶å®ç°é®ç½©ä¸ç¢°æ’æ£€æµ‹ ç¼“åŠ¨è¿‡ç¨‹çš„äº‹ä»¶å¤„ç† æ¢ç©¶å­å¼¹ç±»çš„å¤„ç† æ¢ç©¶å¯»è·¯ç®—æ³• (å¾…å®Œæˆ) 1 åˆ¶ä½œè‹±é›„å›¾demoä¸ç›¸å…³åŠ¨ä½œç‰¹æ•ˆ æˆªå–ç´ æï¼Œåˆ©ç”¨å·¥å…·åˆ¶ä½œgif,åˆ©ç”¨Texture Mergerå¯¼å‡ºå†åº”ç”¨åˆ°egreté¡¹ç›®ä¸­ã€‚ åœ¨main.tsæµ‹è¯•åœ¨createGameSceneæ–¹æ³•ä¸­ var data = RES.getRes(&quot;test_json&quot;); var txtr = RES.getRes(&quot;test_png&quot;); var mcFactory:egret.MovieClipDataFactory = new egret.MovieClipDataFactory( data, txtr ); var mc1:egret.MovieClip = new egret.MovieClip(mcFactory.generateMovieClipData(&quot;1&quot;)); this.addChild(mc1); this.stage.frameRate = 60; mc1.addEventListener(egret.Event.ENTER_FRAME,this.move,mc1); mc1.anchorOffsetX = 53; mc1.anchorOffsetY = 58.5; mc1.x = 53; mc1.y = 58.5; mc1.gotoAndPlay(1,-1); é¦–å…ˆæˆ‘ä»¬å…³æ³¨è¿™ä¸€éƒ¨åˆ†ï¼šè¿™æ˜¯ç”¨æ¥åˆ›å»ºåŠ¨ç”»å¸§ï¼Œç„¶ååŠ å…¥åˆ°èˆå°çš„ var data = RES.getRes(&quot;test_json&quot;); var txtr = RES.getRes(&quot;test_png&quot;); var mcFactory:egret.MovieClipDataFactory = new egret.MovieClipDataFactory( data, txtr ); var mc1:egret.MovieClip = new egret.MovieClip(mcFactory.generateMovieClipData(&quot;1&quot;)); this.addChild(mc1); åœ¨æ’­æ”¾ä¹‹å‰ï¼Œæˆ‘ä»¬å†™äº†ç›‘å¬ï¼Œæ¯ä¸€å¸§æ”¹å˜å›¾ç‰‡çš„åæ ‡ï¼Œä½¿å¾—å›¾ç‰‡è¿åŠ¨èµ·æ¥ï¼Œè¿™æ ·ä½¿å¾—åŠ¨ç”»ä¹Ÿå¯ä»¥è¿åŠ¨èµ·æ¥ï¼Œmoveæ–¹æ³•ç­‰ä¼šè§£é‡Šã€‚ mc1.addEventListener(egret.Event.ENTER_FRAME,this.move,mc1); è¿™é‡Œè®¾ç½®é”šç‚¹ä¸ºåŠ¨ç”»å›¾ç‰‡çš„ä¸€åŠå®½ä¸€åŠé«˜ï¼Œå› ä¸ºæ²¡æœ‰anchorXå’ŒanchorYæ–¹æ³•(è¿™ä¸ªå¯ä»¥ç›´æ¥è®¾ç½®ç›¸å¯¹æ¯”ä¾‹0.5).å…³äºé”šç‚¹åœ¨äº†è§£åï¼Œå¦‚æœæˆ‘ä»¬æƒ³å›¾ç‰‡ä»åŸç‚¹å¼€å§‹éœ€è¦è®¾ç½®x,yåæ ‡ä¸ºå®½é«˜çš„ä¸€åŠï¼Œå› ä¸ºæ˜¯ä»¥é”šç‚¹ä¸ºåŸºå‡†è¿›è¡Œå®šä½äº†ã€‚ mc1.anchorOffsetX = 53; mc1.anchorOffsetY = 58.5; mc1.x = 53; mc1.y = 58.5; mc1.gotoAndPlay(1,-1); moveæ–¹æ³•ï¼Œä¹‹æ‰€ä»¥è®¾ç½®é”šç‚¹ï¼Œæ˜¯ä¸ºäº†å›¾ç‰‡è¿›è¡Œæ—‹è½¬ï¼Œå¦åˆ™ä¼šå‡ºç°bugï¼Œå³æ—‹è½¬ä¹‹ååˆxåæ ‡å‡å°ï¼ŒåŒæ—¶ä¸ºäº†æ¨¡æ‹Ÿç¢°æ’ï¼Œåšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œå³å½“æ£€æµ‹åˆ°300,40çš„ç‚¹æ—¶ï¼Œæ”¹å˜è§’åº¦ï¼ŒåŒæ—¶æ›´æ”¹è¡ŒåŠ¨æ–¹å¼ã€‚è¿™é‡Œå°±æ²¡æœ‰é’ˆå¯¹ä¸åŒè§’åº¦ç»™å‡ºä¸åŒçš„åŠ¨ç”»äº†ï¼Œå¯¹äºä¸€ä¸ªå°æ¸¸æˆå¯èƒ½è¿‡äºç¹çï¼Œè€Œæ˜¯é‡‡ç”¨å›¾ç‰‡æ—‹è½¬çš„æ–¹å¼ï¼Œä¸è¿‡çœ‹ä¸Šå»æœ‰ç‚¹åˆ«æ‰­ã€‚ private move(evt:egret.Event){ if(this.hitTestPoint(300,40)){ this.rotation = 90; this.y = this.y + 1; }else{ this.rotation = 0; this.x = this.x + 1; } } 2 ç¢°æ’æ£€æµ‹ å¦‚æœæœ‰ç¢°æ’æ£€æµ‹çš„éœ€æ±‚ï¼Œå¯ä»¥ç»“åˆä¸Šé¢æåˆ°çš„ä¸¤ä¸ªåŒ…å›´ç›’æ–¹æ³•è¿›è¡Œé’ˆå¯¹æ€§è§£å†³. ç”±äºå¯æ˜¾ç¤ºå¯¹è±¡éƒ½æ˜¯å›¾ç‰‡ï¼Œæœ‰å®½é«˜ï¼Œæœ‰x,yåæ ‡ï¼Œå› æ­¤åŒ…å›´ç›’çš„æ–¹æ³•è¿˜æ˜¯æœ‰æ•ˆçš„ã€‚ ä½†æ˜¯å›¾ç‰‡ä¸­äººç‰©çš„å ç©ºé—´å’Œå…¶å®ƒå®é™…å› ç´ å¯èƒ½ä¼šå½±å“ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚ 3 ç¼“åŠ¨è¿‡ç¨‹çš„äº‹ä»¶å¤„ç† å¦‚æœæ˜¯åŠ¨ç”»çš„äº‹ä»¶å¤„ç†ï¼Œå¦‚å¯¹äºæ­»äº¡äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥stopåŠ¨ç”»ï¼Œç„¶åä»çˆ¶å®¹å™¨ä¸­removeï¼Œéšådeleteå¸§åŠ¨ç”»ã€‚ è¿™æ ·å¯ä»¥è§£å†³åŠ¨ç”»ç»“æŸä¹‹å‰æ­»äº¡çš„é—®é¢˜ï¼Œè‡³äºä½•æ—¶æ”»å‡»æœ‰æ•ˆï¼Œå¯èƒ½å¾—ç»è¿‡è°ƒè¯•ï¼Œä¹Ÿå¯ä»¥åšçš„æ¨¡ç³Šä¸€äº›ã€‚ å¦‚æœæ˜¯ç¼“åŠ¨è¿‡ç¨‹éœ€è¦æœ‰äº‹ä»¶å¤„ç†ï¼Œå¦‚å­å¼¹çš„ç¼“åŠ¨è¿‡ç¨‹ç¢°åˆ°ç›®æ ‡ä¹‹å‰é‡åˆ°å…¶å®ƒæ•Œæ–¹è‹±é›„ï¼Œç¼“åŠ¨æå‰ç»“æŸï¼Œè¿™æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥è·å–tweenå¯¹è±¡ï¼Œä½¿ç”¨ç¼“åŠ¨ç»“æŸæ–¹æ³•ï¼Œä½¿ç”¨æ”¹æ–¹æ³•çš„æ¡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨ç¢°æ’æ£€æµ‹çš„æ–¹å¼ï¼Œå³å­å¼¹ä¸ç›®æ ‡è¿›è¡Œç¢°æ’å°±ç»ˆæ­¢ç¼“åŠ¨ï¼Œå¯ä»¥æŠŠå­å¼¹å½“ä½œä¸€ä¸ªç‚¹ï¼Œæˆ–æ˜¯çŸ©å½¢ï¼Œè¿™æ˜¯åé¢å…·ä½“å¤„ç†æ–¹å¼çš„ä¸åŒã€‚ 4 å­å¼¹çš„å¤„ç† æ–¹ä¾¿çš„æ–¹å¼å³æ˜¯é‡‡ç”¨ç¼“åŠ¨ï¼Œå¹¶ä¸”ä½¿ç”¨tween.toæ¥è¿›è¡Œå­å¼¹ç§»åŠ¨. å…¶å®æŠŠå­å¼¹çš„ç§»åŠ¨é€Ÿåº¦æé«˜ï¼Œ3ä¸­æåˆ°çš„å­å¼¹ç¼“åŠ¨è¿‡ç¨‹çš„äº‹ä»¶å¤„ç†æ˜¯ä¸éœ€è¦çš„ï¼Œå› ä¸ºåªè¦ç¡®å®štween.toçš„ç›®æ ‡å‡ ä¹æ€»èƒ½å‡»ä¸­ç›®æ ‡ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"},{"name":"æ¸¸æˆ","slug":"Webå‰ç«¯/æ¸¸æˆ","permalink":"/categories/Webå‰ç«¯/æ¸¸æˆ/"}],"tags":[{"name":"egret","slug":"egret","permalink":"/tags/egret/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"},{"name":"æ¸¸æˆ","slug":"Webå‰ç«¯/æ¸¸æˆ","permalink":"/categories/Webå‰ç«¯/æ¸¸æˆ/"}]},{"title":"webGLå…¥é—¨(ä¸€)","slug":"WebGLå…¥é—¨(ä¸€)","date":"2020-07-03T00:59:35.637Z","updated":"2020-07-16T02:33:29.271Z","comments":true,"path":"2020/07/03/WebGLå…¥é—¨(ä¸€)/","link":"","permalink":"/2020/07/03/WebGLå…¥é—¨(ä¸€)/","excerpt":"","text":"WebGLä»‹ç»äº§ç”ŸèƒŒæ™¯ WebGLå‡ºç°ä¹‹å‰ï¼Œæµè§ˆå™¨æƒ³è¦å®ç°3dæ•ˆæœå¿…é¡»å€ŸåŠ©æµè§ˆå™¨æ’ä»¶ï¼Œå¦‚Adobeçš„flashï¼Œå¾®è½¯çš„silverLightç­‰ç­‰ WebGL æ˜¯ä¸€ç»„åŸºäº JavaScript è¯­è¨€çš„å›¾å½¢è§„èŒƒï¼Œæµè§ˆå™¨å‚å•†æŒ‰ç…§è¿™ç»„è§„èŒƒè¿›è¡Œå®ç°ï¼Œä¸º Web å¼€å‘è€…æä¾›ä¸€å¥—3Då›¾å½¢ç›¸å…³çš„ API è¿™å¥—apiï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨javscriptè¯­è¨€ä¸gpuè¿›è¡Œé€šä¿¡ï¼è€ŒwebGLçš„gpuéƒ¨åˆ†ä¹Ÿæœ‰å¯¹åº”çš„ç¼–ç¨‹è¯­è¨€ç®€ç§°GLSL,GLSLç¨‹åºå³ä¸ºè¿è¡Œåœ¨gpuä¸Šçš„ç€è‰²å™¨ç¨‹åºï¼ç€è‰²å™¨ç¨‹åºæ¥å—cpuä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼ˆwebglä½¿ç”¨jsï¼‰ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œæµæ°´çº¿å¤„ç†ï¼Œå°±å¯ä»¥æ˜¾ç¤ºåœ¨å±å¹•ä¸Šä»è€Œå®ç°å„ç§3dåº”ç”¨ï¼å·¥ä½œæ–¹å¼ WebGLçš„å·¥ä½œæ–¹å¼ä¸æµæ°´çº¿ç›¸ä¼¼ï¼ä»å¾—åˆ°æ•°æ®åˆ°æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼Œæµæ°´çº¿æŒ‰ç…§æ—¢å®šçš„æ­¥éª¤ä»åŸæ–™åˆ°åŠ å·¥ï¼Œæ¯ä¸€æ­¥çš„å¤„ç†çš„åŸææ–™æ˜¯ä¸Šä¸€æ­¥åŠ å·¥å¾—åˆ°çš„ç»“æœï¼ŒåŠ å·¥æœ€ç»ˆå½¢æˆå®Œæ•´çš„äº§å“ï¼è¿™ç§æ¸²æŸ“æ–¹å¼æˆ‘ä»¬ç§°ä¹‹ä¸ºå›¾å½¢ç®¡çº¿/æ¸²æŸ“ç®¡çº¿ WebGLçš„å›¾å…ƒæ˜¯ç‚¹ï¼Œçº¿æ®µï¼Œä¸‰è§’å½¢ä¸‰ç§å›¾å…ƒï¼Œè€Œå¯¹äºå…¶å®ƒçš„webGLç¨‹åºä¸­å‡ºç°çš„å›¾å½¢ç”šè‡³ä¸€äº›é€¼çœŸçš„ä¸è§„åˆ™æ¨¡å‹ï¼Œéƒ½æ˜¯ç”±gpuå°†ç‚¹ç”¨ä¸‰è§’å½¢å›¾å…ƒç»˜åˆ¶ï¼Œå¹¶ä¸”ç”±ä¸‰è§’å½¢å¹³é¢æ‹¼æ¥è€Œæˆå¾—åˆ°çš„ï¼ ä¼ é€’ç»™gpuçš„é¡¶ç‚¹æ•°æ®å’Œå˜æ¢çŸ©é˜µæ•°æ®ï¼Œé¡¶ç‚¹ç»è¿‡è½¬æ¢ä¹‹åçš„åæ ‡æ˜¯webGLæ¥å—çš„åæ ‡ï¼Œå³gpuæ¸²æŸ“ç®¡çº¿å¯¹è¿™äº›æ•°æ®è¿›è¡Œæµæ°´çº¿ä½œä¸šï¼gpuæ¸²æŸ“ç®¡çº¿ä½œç”¨è¿‡ç¨‹ é¦–å…ˆè¿›å…¥é¡¶ç‚¹ç€è‰²å™¨é˜¶æ®µï¼Œåˆ©ç”¨ GPU çš„å¹¶è¡Œè®¡ç®—ä¼˜åŠ¿å¯¹é¡¶ç‚¹é€ä¸ªè¿›è¡Œåæ ‡å˜æ¢ã€‚ ç„¶åè¿›å…¥å›¾å…ƒè£…é…é˜¶æ®µï¼Œå°†é¡¶ç‚¹æŒ‰ç…§å›¾å…ƒç±»å‹ç»„è£…æˆå›¾å½¢ã€‚ æ¥ä¸‹æ¥æ¥åˆ°å…‰æ …åŒ–é˜¶æ®µï¼Œå…‰æ …åŒ–é˜¶æ®µå°†å›¾å½¢ç”¨ä¸åŒ…å«é¢œè‰²ä¿¡æ¯çš„åƒç´ å¡«å……ã€‚ åœ¨ä¹‹åè¿›å…¥ç‰‡å…ƒç€è‰²å™¨é˜¶æ®µï¼Œè¯¥é˜¶æ®µä¸ºåƒç´ ç€è‰²ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ GLSL GLSLæ˜¯OpenGL Shading Languageç¼©å†™ï¼Œå³openGLçš„ç€è‰²å™¨è¯­è¨€ ç€è‰²å™¨è¯­è¨€æŒ‡çš„æ˜¯è¿è¡Œåœ¨gpuä¸Šçš„å‰ªçŸ­ç¨‹åºï¼Œä»£æ›¿äº†gpuå›ºå®šæ¸²æŸ“ç®¡çº¿çš„ä¸€éƒ¨åˆ†ï¼Œä½¿å¾—gpuæ¸²æŸ“ç¨‹åºèƒ½å¤Ÿé€šè¿‡ç¼–ç¨‹æ§åˆ¶. GLSLæ§åˆ¶gpuæ¸²æŸ“ç®¡çº¿çš„éƒ¨åˆ†: é¡¶ç‚¹ç€è‰²å™¨ ç‰‡å…ƒç€è‰²å™¨ å¼€å‘è€…å¯é€šè¿‡ç¼–ç¨‹æ§åˆ¶gpuæ¸²æŸ“ç®¡çº¿çš„éƒ¨åˆ†: jsç¨‹åºï¼Œä¼ é€’é¡¶ç‚¹æ•°æ®ï¼Œæ³•å‘é‡ï¼Œçº¹ç†ï¼Œé¢œè‰²ç­‰ç­‰ é¡¶ç‚¹ç€è‰²å™¨ ç‰‡å…ƒç€è‰²å™¨ å…³äºé¡¶ç‚¹ä¿¡æ¯çš„å˜æ¢ï¼š åœ¨jsä¸­è¿›è¡Œï¼Œå³é€šè¿‡jsä»£ç å°†é€šè¿‡å˜æ¢çŸ©é˜µè½¬æ¢å¥½çš„é¡¶ç‚¹ä¿¡æ¯ä¼ é€’ç»™gpu åœ¨jsä¸­å°†å˜æ¢çŸ©é˜µä¼ é€’ç»™ç€è‰²å™¨ç¨‹åºï¼Œç”±é¡¶ç‚¹ç€è‰²å™¨ç¨‹åºå®ç°å¯¹é¡¶ç‚¹ä¿¡æ¯çš„è½¬æ¢ï¼ æœ¬ç¯‡æ–‡ç« æ˜¯å¯¹WebGLçš„æ•´ä½“ç®€ä»‹ï¼Œæ˜¯WebGLå…¥é—¨çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåç»­ä¼šå¯¹WebGLç¼–ç¨‹çš„å­¦ä¹ è¿›è¡Œå®Œæ•´çš„è®°å½•ï¼","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"WebGL","slug":"WebGL","permalink":"/tags/WebGL/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"flutterç³»åˆ—ä¹‹dartäº‹ä»¶å¾ªç¯","slug":"dartäº‹ä»¶å¾ªç¯","date":"2020-07-01T14:23:29.026Z","updated":"2020-07-03T12:43:47.311Z","comments":true,"path":"2020/07/01/dartäº‹ä»¶å¾ªç¯/","link":"","permalink":"/2020/07/01/dartäº‹ä»¶å¾ªç¯/","excerpt":"ä¸Šä¸€ç¯‡ä»‹ç»äº†dartåŸºç¡€ï¼è¿™ä¸€ç¯‡å°†è®²è¿°flutterä»£ç çš„æ‰§è¡Œå’Œè¿è¡Œçš„æœºåˆ¶ï¼ Dartå•çº¿ç¨‹ç±»æ¯”jsï¼jså•çº¿ç¨‹å…³é”®ç‚¹åœ¨äºä¸»çº¿ç¨‹ï¼Œå¾®ä»»åŠ¡ä¸å®ä»»åŠ¡ï¼ ä¸»çº¿ç¨‹ï¼ä¸»ä¸šåŠ¡é€»è¾‘ å¼‚æ­¥ï¼Œç½‘ç»œI/O,æœ¬åœ°æ–‡ä»¶I/O,é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ‰§è¡Œ dartä¸­å•çº¿ç¨‹æ‰§è¡Œï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯å¾®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶é˜Ÿåˆ—(å¯¹åº”äºjsçš„å®ä»»åŠ¡) å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼šscheduleMicrotaskè°ƒåº¦ äº‹ä»¶é˜Ÿåˆ—: åŒ…å«å¤–éƒ¨äº‹ä»¶ï¼Œå¦‚I/O,Timer,ç»˜åˆ¶äº‹ä»¶ç­‰ç­‰ äº‹ä»¶å¾ªç¯è¿‡ç¨‹å¯¹äºjsçš„äº‹ä»¶å¾ªç¯ä¹‹å‰æœ‰å‡ºè¿‡ä¸€ç¯‡æ–‡ç« ï¼Œæ­¤å¤„å†è´´ä¸€ç¯‡è®²çš„å¾ˆä¸é”™çš„jsäº‹ä»¶å¾ªç¯çš„æ–‡ç« ï¼Œæœ‰åŠ©äºå¯¹å…¶åŠ æ·±ç†è§£ï¼ä»ä¸€é“é¢˜æµ…è¯´JavaScriptçš„äº‹ä»¶å¾ªç¯è€Œå¯¹äºdartï¼Œåˆšæ‰ä»‹ç»äº†dartå•çº¿ç¨‹ç›¸å…³çš„æ ¸å¿ƒå†…å®¹ï¼Œåœ¨æŒæ¡äº†jsçš„äº‹ä»¶å¾ªç¯åï¼Œç±»æ¯”åˆ°dartä¸Šä¹Ÿååˆ†å®¹æ˜“ï¼ 1).æ‰§è¡Œmainå‡½æ•°ï¼Œäº§ç”Ÿå¾®ä»»åŠ¡å’Œäº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—2).åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¾®ä»»åŠ¡ï¼Œæœ‰åˆ™æ‰§è¡Œï¼Œæ‰§è¡Œå®Œåå†åˆ¤æ–­æ˜¯å¦è¿˜å­˜åœ¨å¾®ä»»åŠ¡ï¼Œæ²¡åˆ™åˆ¤æ–­æ˜¯å¦å­˜åœ¨äº‹ä»¶ä»»åŠ¡ï¼ˆå³æ¯å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œå¾®ä»»åŠ¡ä¼šæ‰§è¡Œåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºå†å»çœ‹äº‹ä»¶é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡)3).å¦‚æœæœ‰äº‹ä»¶ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œåå†åˆ¤æ–­æ˜¯å¦è¿˜æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœæœ‰å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼å¦‚24).åœ¨å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œä¹Ÿä¼šäº§ç”Ÿæ–°çš„å¾®ä»»åŠ¡å’Œäº‹ä»¶ä»»åŠ¡ï¼","text":"ä¸Šä¸€ç¯‡ä»‹ç»äº†dartåŸºç¡€ï¼è¿™ä¸€ç¯‡å°†è®²è¿°flutterä»£ç çš„æ‰§è¡Œå’Œè¿è¡Œçš„æœºåˆ¶ï¼ Dartå•çº¿ç¨‹ç±»æ¯”jsï¼jså•çº¿ç¨‹å…³é”®ç‚¹åœ¨äºä¸»çº¿ç¨‹ï¼Œå¾®ä»»åŠ¡ä¸å®ä»»åŠ¡ï¼ ä¸»çº¿ç¨‹ï¼ä¸»ä¸šåŠ¡é€»è¾‘ å¼‚æ­¥ï¼Œç½‘ç»œI/O,æœ¬åœ°æ–‡ä»¶I/O,é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ‰§è¡Œ dartä¸­å•çº¿ç¨‹æ‰§è¡Œï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯å¾®ä»»åŠ¡äº‹ä»¶é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶é˜Ÿåˆ—(å¯¹åº”äºjsçš„å®ä»»åŠ¡) å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼šscheduleMicrotaskè°ƒåº¦ äº‹ä»¶é˜Ÿåˆ—: åŒ…å«å¤–éƒ¨äº‹ä»¶ï¼Œå¦‚I/O,Timer,ç»˜åˆ¶äº‹ä»¶ç­‰ç­‰ äº‹ä»¶å¾ªç¯è¿‡ç¨‹å¯¹äºjsçš„äº‹ä»¶å¾ªç¯ä¹‹å‰æœ‰å‡ºè¿‡ä¸€ç¯‡æ–‡ç« ï¼Œæ­¤å¤„å†è´´ä¸€ç¯‡è®²çš„å¾ˆä¸é”™çš„jsäº‹ä»¶å¾ªç¯çš„æ–‡ç« ï¼Œæœ‰åŠ©äºå¯¹å…¶åŠ æ·±ç†è§£ï¼ä»ä¸€é“é¢˜æµ…è¯´JavaScriptçš„äº‹ä»¶å¾ªç¯è€Œå¯¹äºdartï¼Œåˆšæ‰ä»‹ç»äº†dartå•çº¿ç¨‹ç›¸å…³çš„æ ¸å¿ƒå†…å®¹ï¼Œåœ¨æŒæ¡äº†jsçš„äº‹ä»¶å¾ªç¯åï¼Œç±»æ¯”åˆ°dartä¸Šä¹Ÿååˆ†å®¹æ˜“ï¼ 1).æ‰§è¡Œmainå‡½æ•°ï¼Œäº§ç”Ÿå¾®ä»»åŠ¡å’Œäº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—2).åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¾®ä»»åŠ¡ï¼Œæœ‰åˆ™æ‰§è¡Œï¼Œæ‰§è¡Œå®Œåå†åˆ¤æ–­æ˜¯å¦è¿˜å­˜åœ¨å¾®ä»»åŠ¡ï¼Œæ²¡åˆ™åˆ¤æ–­æ˜¯å¦å­˜åœ¨äº‹ä»¶ä»»åŠ¡ï¼ˆå³æ¯å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œå¾®ä»»åŠ¡ä¼šæ‰§è¡Œåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºå†å»çœ‹äº‹ä»¶é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡)3).å¦‚æœæœ‰äº‹ä»¶ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œåå†åˆ¤æ–­æ˜¯å¦è¿˜æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœæœ‰å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼å¦‚24).åœ¨å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œä¹Ÿä¼šäº§ç”Ÿæ–°çš„å¾®ä»»åŠ¡å’Œäº‹ä»¶ä»»åŠ¡ï¼æ¥çœ‹ä¸¤é“å¸¸è§çš„ä¾‹é¢˜ä¾‹1. import &#39;dart:async&#39;; void main() { print(&#39;flow start&#39;); // æ‰§è¡Œæ‰“å°å¼€å§‹ // æ‰§è¡Œåˆ¤æ–­ä¸ºäº‹ä»¶ä»»åŠ¡ï¼Œæ·»åŠ åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ— Timer.run((){ print(&#39;event&#39;); // æ‰§è¡Œäº‹ä»¶ä»»åŠ¡ï¼Œæ‰“å°æ ‡è®° }); // æ‰§è¡Œåˆ¤æ–­ä¸ºå¾®ä»»åŠ¡ï¼Œæ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ— scheduleMicrotask((){ print(&#39;microtask&#39;); // æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ‰“å°æ ‡è®° }); print(&#39;flow end&#39;); // æ‰“å°ç»“æŸæ ‡è®° } ç»“æœæ˜¯ flow start flow end microtask event åˆ†æè¿‡ç¨‹ï¼š1).é¦–å…ˆæ‰§è¡Œmainå‡½æ•°ä¸­çš„ä»£ç ï¼Œæ‰“å°flow start2).Timerä¸ºäº‹ä»¶ä»»åŠ¡ï¼Œæ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ï¼ŒscheduleMicrotaskä¸ºå¾®ä»»åŠ¡ï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒåŒæ—¶å‘ä¸‹æ‰§è¡Œä»£ç æ‰“å°flow end3).å…ˆä»å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºå¾®ä»»åŠ¡æ‰§è¡Œï¼Œå› æ­¤æ‰“å°microtask4).å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™ä»äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºäº‹ä»¶ä»»åŠ¡æ‰§è¡Œï¼Œæ‰“å°eventä¾‹2. import &#39;dart:async&#39;; void main() { print(&#39;flow start&#39;); // æ‰§è¡Œæ‰“å°å¼€å§‹ // æ‰§è¡Œåˆ¤æ–­ä¸ºäº‹ä»¶ä»»åŠ¡ï¼Œæ·»åŠ åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ— Timer.run((){ print(&#39;event&#39;); // æ‰§è¡Œäº‹ä»¶ä»»åŠ¡ï¼Œæ‰“å°äº‹ä»¶ä»»åŠ¡è®° // æ‰§è¡Œåˆ¤æ–­ä¸ºå¾®ä»»åŠ¡ï¼Œæ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ— scheduleMicrotask((){ print(&#39;microtask in event&#39;); // æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ‰“å°å¾®ä»»åŠ¡æ ‡è®° }); }); // æ‰§è¡Œåˆ¤æ–­ä¸ºå¾®ä»»åŠ¡ï¼Œæ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ— scheduleMicrotask((){ print(&#39;microtask&#39;); // æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ‰“å°å¾®ä»»åŠ¡æ‰§è¡Œæ ‡è®° // æ‰§è¡Œåˆ¤æ–­ä¸ºäº‹ä»¶ä»»åŠ¡ï¼Œæ·»åŠ åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ— Timer.run((){ print(&#39;event in microtask&#39;); // æ‰§è¡Œäº‹ä»¶ä»»åŠ¡ï¼Œæ‰“å°äº‹ä»¶ä»»åŠ¡æ ‡è®° }); }); print(&#39;flow end&#39;); // æ‰“å°ç»“æŸæ ‡è®° } ç»“æœ flow start flow end microtask event microtask in event event in microtask åˆ†æè¿‡ç¨‹ï¼š1).mainå‡½æ•°ä¸­ä»£ç å…ˆæ‰§è¡Œæ‰“å°flow start2).Timer,ä¸ºäº‹ä»¶ä»»åŠ¡ï¼Œæ”¾å…¥äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼3).ä»£ç å‘ä¸‹æ‰§è¡Œï¼ŒscheduleMicrotaskä¸ºå¾®ä»»åŠ¡ï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—4).ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œæ‰“å°flow end5).æ­¤æ—¶ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡ï¼Œå› æ­¤æ‰§è¡ŒscheduleMicrotaskä¸­ä»£ç ï¼Œå…ˆprint microtask,ç„¶åTimeræ”¾å…¥äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—6).å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå› æ­¤å»äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—å–å‡ºæœ€å…ˆæ”¾å…¥é˜Ÿåˆ—ä¸­çš„äº‹ä»¶ä»»åŠ¡ï¼æ‰“å°event,å‘ä¸‹é‡åˆ°scheduleMicrotaskï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼7).äº‹ä»¶ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œç”±äºå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡ï¼Œæ‰€ä»¥æ‰§è¡Œå¾®ä»»åŠ¡ï¼å› æ­¤å…ˆæ‰“å°microtask in eventï¼8).æœ€åæ‰§è¡Œäº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰“å°event in microtask å¼•å‘å‡ºçš„ä¸€ä¸ªé—®é¢˜ dartåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½è¢«äº‹ä»¶è¿è¡Œå¡ä½ å¯æƒ³è€ŒçŸ¥çš„æ˜¯ï¼Œå½“äº‹ä»¶ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œå¦‚æœè¿›è¡Œäº†å¯†é›†è®¡ç®—ï¼Œå…¶ä¸­ç­‰å¾…äº‹ä»¶ä»»åŠ¡æ‰§è¡Œç»“æŸçš„æ—¶é—´å°±ä¼šå¢é•¿ï¼ è€Œä»äº‹ä»¶å¾ªç¯ï¼æˆ‘ä»¬çŸ¥é“å¦‚æœå½“å‰äº‹ä»¶ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œç»“æŸï¼Œæ˜¯æ— æ³•è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯çš„ï¼å› æ­¤æ•´ä¸ªdartè¿è¡Œå°±ä¼šè¢«å¡ä½ï¼ å› æ­¤é¿å…ç”±äºäº‹ä»¶å¯†é›†è®¡ç®—è€Œå¯¼è‡´è¾ƒå·®çš„ç”¨æˆ·ä½“éªŒï¼ å…³äºdartå¤šçº¿ç¨‹å†…å®¹ï¼Œæˆ‘ä»¬æ”¾åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­ä»‹ç»ï¼Œå±Šæ—¶æˆ‘ä»¬ä¼šå¯¹dartè¿è¡ŒåŸç†å¤§æ¦‚æœ‰ä¸€ä¸ªæ•´ä½“çš„æŒæ¡ï¼ç„¶åå°±ä¼šè¿›å…¥flutterçš„å­¦ä¹ ä¹‹ä¸­ï¼","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"dart","slug":"dart","permalink":"/tags/dart/"},{"name":"flutter","slug":"flutter","permalink":"/tags/flutter/"},{"name":"äº‹ä»¶å¾ªç¯","slug":"äº‹ä»¶å¾ªç¯","permalink":"/tags/äº‹ä»¶å¾ªç¯/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"flutterç³»åˆ—ä¹‹dartåŸºç¡€","slug":"dartåŸºç¡€(ä¸€)","date":"2020-06-29T14:08:11.019Z","updated":"2020-07-29T13:18:17.312Z","comments":true,"path":"2020/06/29/dartåŸºç¡€(ä¸€)/","link":"","permalink":"/2020/06/29/dartåŸºç¡€(ä¸€)/","excerpt":"ç”±äºè¿‘æœŸæœ‰å­¦ä¹ flutterçš„å…´è¶£ï¼Œå› æ­¤é¦–å…ˆå­¦ä¹ å…¶æ‰€éœ€çš„ç¼–ç¨‹è¯­è¨€dart.å¹¶é‡‡ç”¨dartä¸jså¯¹æ¯”å·®å¼‚çš„æ–¹å¼æ¥è¿›è¡Œå­¦ä¹ ï¼ åŸºç¡€æ•°æ®ç±»å‹ Numberå’ŒStringä¸jsä½¿ç”¨åŸºæœ¬ä¸€è‡´ Symbolçš„åŒºåˆ« jsä¸­ï¼ŒSymbolæ˜¯å°†åŸºç¡€æ•°æ®ç±»å‹è½¬æ¢ä¸ºå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ ¸å¿ƒåº”ç”¨æ˜¯å°†å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹è±¡æ•°æ®ç±»å‹çš„é”®åï¼å…·ä½“å¯å‚è€ƒjsä¸­Symbol,map,set åœ¨ Dart ä¸­ï¼ŒSymbol æ˜¯ä¸é€æ˜çš„åŠ¨æ€å­—ç¬¦ä¸²åç§°ï¼Œç”¨äºåæ˜ åº“ä¸­çš„å…ƒæ•°æ®ã€‚ç”¨ Symbol å¯ä»¥è·å¾—æˆ–å¼•ç”¨ç±»çš„ä¸€ä¸ªé•œåƒï¼Œæ¦‚å¿µæ¯”è¾ƒå¤æ‚ï¼Œä½†å…¶å®å’Œ JavaScript çš„ç”¨æ³•åŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢ä»£ç é¦–å…ˆ new äº†ä¸€ä¸ª test ä¸º Map æ•°æ®ç±»å‹ï¼Œè®¾ç½®ä¸€ä¸ªå±æ€§ #tï¼ˆSymbol ç±»å‹ï¼‰ï¼Œç„¶ååˆ†åˆ«æ‰“å° testã€test çš„ #tã€test çš„ Symbol(â€œtâ€) å’Œ #tã€‚ void main() { Map test = new Map(); test[#t] = &#39;symbol test&#39;; print(test); print(test[#t]); print(test[Symbol(&#39;t&#39;)]); print(#t); } ç»“æœï¼š flutter: {Symbol(&quot;t&quot;): symbol test} flutter: symbol test flutter: symbol test flutter: Symbol(&quot;t&quot;) #tä¸Symbol(â€œtâ€)ç»“æœä¸€è‡´ï¼Œç”±æ­¤å¯è§ï¼Œdartä¸­çš„symbolæ›´åƒæ˜¯ä¸€ä¸ªåå°„æ¦‚å¿µï¼Œè€Œåœ¨jsä¸­æ˜¯åˆ›å»ºå”¯ä¸€æ ‡è¯†çš„æ¦‚å¿µï¼","text":"ç”±äºè¿‘æœŸæœ‰å­¦ä¹ flutterçš„å…´è¶£ï¼Œå› æ­¤é¦–å…ˆå­¦ä¹ å…¶æ‰€éœ€çš„ç¼–ç¨‹è¯­è¨€dart.å¹¶é‡‡ç”¨dartä¸jså¯¹æ¯”å·®å¼‚çš„æ–¹å¼æ¥è¿›è¡Œå­¦ä¹ ï¼ åŸºç¡€æ•°æ®ç±»å‹ Numberå’ŒStringä¸jsä½¿ç”¨åŸºæœ¬ä¸€è‡´ Symbolçš„åŒºåˆ« jsä¸­ï¼ŒSymbolæ˜¯å°†åŸºç¡€æ•°æ®ç±»å‹è½¬æ¢ä¸ºå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ ¸å¿ƒåº”ç”¨æ˜¯å°†å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹è±¡æ•°æ®ç±»å‹çš„é”®åï¼å…·ä½“å¯å‚è€ƒjsä¸­Symbol,map,set åœ¨ Dart ä¸­ï¼ŒSymbol æ˜¯ä¸é€æ˜çš„åŠ¨æ€å­—ç¬¦ä¸²åç§°ï¼Œç”¨äºåæ˜ åº“ä¸­çš„å…ƒæ•°æ®ã€‚ç”¨ Symbol å¯ä»¥è·å¾—æˆ–å¼•ç”¨ç±»çš„ä¸€ä¸ªé•œåƒï¼Œæ¦‚å¿µæ¯”è¾ƒå¤æ‚ï¼Œä½†å…¶å®å’Œ JavaScript çš„ç”¨æ³•åŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢ä»£ç é¦–å…ˆ new äº†ä¸€ä¸ª test ä¸º Map æ•°æ®ç±»å‹ï¼Œè®¾ç½®ä¸€ä¸ªå±æ€§ #tï¼ˆSymbol ç±»å‹ï¼‰ï¼Œç„¶ååˆ†åˆ«æ‰“å° testã€test çš„ #tã€test çš„ Symbol(â€œtâ€) å’Œ #tã€‚ void main() { Map test = new Map(); test[#t] = &#39;symbol test&#39;; print(test); print(test[#t]); print(test[Symbol(&#39;t&#39;)]); print(#t); } ç»“æœï¼š flutter: {Symbol(&quot;t&quot;): symbol test} flutter: symbol test flutter: symbol test flutter: Symbol(&quot;t&quot;) #tä¸Symbol(â€œtâ€)ç»“æœä¸€è‡´ï¼Œç”±æ­¤å¯è§ï¼Œdartä¸­çš„symbolæ›´åƒæ˜¯ä¸€ä¸ªåå°„æ¦‚å¿µï¼Œè€Œåœ¨jsä¸­æ˜¯åˆ›å»ºå”¯ä¸€æ ‡è¯†çš„æ¦‚å¿µï¼ undefinedå’Œnull dartä¸jsä¸åŒï¼Œdartæ˜¯é™æ€è„šæœ¬è¯­è¨€ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰å®šä¹‰ä¸€ä¸ªå˜é‡æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œjsæ˜¯å­˜åœ¨è„šæœ¬åœ¨è¿è¡ŒæœŸé—´å˜é‡æ²¡å®šä¹‰çš„æƒ…å†µï¼ ä¸ºäº†é¿å…å› ä¸ºä¸€ä¸ªå˜é‡æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œdartä¸­ä¸é‡‡ç”¨undefinedï¼Œè€Œæ˜¯ä½¿ç”¨null,dartä¸­nullæ˜¯å¼±ç±»å‹objectçš„å­ç±»å‹ï¼Œä¸æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼è€Œæ‰€æœ‰æ•°æ®ç±»å‹ï¼Œè¢«åˆå§‹åŒ–åæ²¡æœ‰è¢«èµ‹å€¼çš„è¯è‡ªåŠ¨èµ‹å€¼ä¸ºnullç±»å‹ï¼Mapå’ŒList ä¸jsä¸­Arrayå’ŒMapåŸºæœ¬ä¸€è‡´ï¼Œä½†åœ¨jsä¸­ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå±äºå¼•ç”¨æ•°æ®ç±»å‹ï¼åˆ†ç±»ä¸åŒï¼Œåœ¨ç”¨æ³•å’Œç±»å‹ä¸Šæ²¡æœ‰ä»€ä¹ˆå·®å¼‚ï¼å¼±ç±»å‹-var,objectåŠdynamic dartä¹Ÿå­˜åœ¨å¼±ç±»å‹ï¼Œä½¿ç”¨var,object,dynamicæ¥å£°æ˜ï¼ŒåŒæ—¶ä¸ºäº†é¿å…å¼±ç±»å‹å¯¼è‡´å®¢æˆ·ç«¯Crashçš„å¼‚å¸¸ï¼ŒDartå¯¹å¼±ç±»å‹åŠ å¼ºäº†æ£€éªŒï¼ varå£°æ˜ï¼Œç¬¬ä¸€æ¬¡èµ‹å€¼å°†æ•°æ®ç±»å‹ç»‘å®šï¼Œå¦‚æœå†æ›´æ”¹ç±»å‹ï¼Œä¼šåœ¨dartç¼–è¯‘å‰å°±æŠ¥é”™ï¼ objectå£°æ˜ç›¸å½“äºjsä¸­çš„varå£°æ˜èµ‹å€¼ï¼Œåœ¨ç¼–è¯‘æœŸé—´ï¼Œobjectä¼šå¯¹æ•°æ®è°ƒç”¨åšä¸€å®šåˆ¤æ–­å¹¶ä¸”æŠ¥é”™ï¼Œå£°æ˜ä¸è°ƒç”¨å¿…é¡»æ˜¯å¯¹åº”çš„ç±»å‹ï¼å¦‚å£°æ˜ä¸ºStringç±»å‹ï¼Œè°ƒç”¨lengthå°±ä¼šæŠ¥é”™ï¼ç”±äºæ•°æ®å¯èƒ½æ¥è‡ªæ¥å£å±‚ï¼Œæ‰€ä»¥å‡å°‘ä½¿ç”¨ä»¥é¿å…è¿è¡Œæ—¶æŠ¥é”™å¯¼è‡´å®¢æˆ·ç«¯Crashçš„å¼‚å¸¸ï¼ dynamicä¹Ÿæ˜¯åŠ¨æ€æ•°æ®ç±»å‹ï¼Œä½†æ•°æ®ç±»å‹è°ƒç”¨å¼‚å¸¸æ—¶åªä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ï¼Œä¸ä¼šåœ¨ç¼–è¯‘å‰å’Œç¼–è¯‘æœŸé—´å¯¼è‡´æŠ¥é”™ï¼Œæ‰€ä»¥è¿™ç‚¹å¾ˆå±é™©ï¼ åŸºç¡€è¿ç®—ç¬¦ dartæ˜¯å¼ºæ•°æ®ç±»å‹å› æ­¤æ²¡æœ‰â€===â€è¿ç®—ç¬¦ï¼åŒæ—¶æœ‰ä¸€äº›ç±»å‹æµ‹è¯•è¿ç®—ç¬¦å’Œjsä¸­ç±»å‹è½¬æ¢ä»¥åŠtypeofç›¸ä¼¼ï¼ä¸åŠ ä»‹ç»ï¼??è¿ç®—ç¬¦ t??â€™testâ€™å³t!=null?t:â€™testâ€™çº§è”æ“ä½œ å…è®¸å¯¹åŒä¸€å¯¹è±¡æˆ–è€…å‡½æ•°è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œä¾æ¬¡è°ƒç”¨æ–¹æ³•å¦‚testObj.add(&#39;t&#39;) ...delete(&#39;a&#39;) ...show() å‡½æ•° æ˜æ˜¾åŒºåˆ«å°±æ˜¯dartç”±äºæ˜¯å¼ºæ•°æ®ç±»å‹ï¼Œæ‰€ä»¥åœ¨å£°æ˜å‡½æ•°çš„æ—¶å€™å¯ä»¥å¢åŠ ä¸€ä¸ªè¿”å›å€¼ç±»å‹ï¼ ç±»å‘½åæ„é€ å‡½æ•° æ”¯æŒå¤šä¸ªæ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–å¯ä»¥æœ‰é€‰æ‹©class People{ String face; People.nice(){ this.face = &#39;nice&#39;; } People.bad(){ this.face = &#39;bad&#39;; } } void main(List&lt;String&gt;args){ People niceOne = new People.nice(); print(niceOne.face); People badOone = new Poeple.bad(); print(badOne.face) } ç»“æœä¸è¨€è€Œå–»è®¿é—®æ§åˆ¶ éœ€è¦è®¾ç½®ç§æœ‰å±æ€§ï¼Œå°±åœ¨æ–¹æ³•æˆ–è€…å±æ€§å‰æ·»åŠ â€™_â€™æŠ½è±¡ç±»å’Œæ³›å‹ç±» åº“ä¸è°ƒç”¨dartåº“ç®¡ç† åº“ç®¡ç†èµ„æºpub.devä¸­æ‰¾åˆ°éœ€è¦çš„åº“ï¼åœ¨darté…ç½®æ–‡ä»¶pubspec.yamlä¸­æ·»åŠ å°±å¯ä»¥ä½¿ç”¨è¯¥åº“ï¼Œå°±åƒåœ¨jsçš„package.jsonä¸­æ·»åŠ å£°æ˜ä¸€æ ·ï¼Œä¹Ÿæœ‰dependencieså’Œdev_dependencieså¼€å‘dartåº“ å¼€å‘å¥½çš„åº“å‘è¡¨åœ¨pub.devå°±å¯ä»¥äº†ï¼Œå’Œnpmç®¡ç†ä¸€è‡´ï¼å¦‚ä½•å‘å¸ƒæŒ‰ç…§å®˜ç½‘ pubspecå°±åƒpackageä¸€æ ·ï¼Œlibä¸‹ï¼Œæ ¸å¿ƒæ˜¯å¯¹åº”çš„åº“æ–‡ä»¶.dartï¼Œæ˜¯åŒ…å«ä¸€ä¸ªdartç±»ï¼Œæ‰€ä»¥å¯ä»¥å°†ç§æœ‰æ–¹æ³•ç”¨_ä¿æŠ¤ï¼Œå…¶ä»–çš„å¯ä»¥è¢«å¼•ç”¨çš„æ¨¡å—è°ƒç”¨ï¼è‡ªå·±å¼€å‘çš„æ— é¡»å‘å¸ƒåœ¨pub.devçš„å®ç°é€»è¾‘ï¼Œå¯ä»¥æ”¾åœ¨srcä¸‹ï¼è°ƒç”¨dartåº“ï¼ import &#39;package:startup_namer/pages/homepage.dart&#39; å…¶ä¸­packageè¡¨ç¤ºåè®®ï¼Œæ¯”httpå¥½ï¼Œé¿å…æ€§èƒ½å½±å“ï¼Œç„¶åæ˜¯åº“å/é¡¹ç›®åï¼Œlibä¸‹çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå…·ä½“å¼•å…¥çš„åº“æ–‡ä»¶å æ¯”ç›¸å¯¹è·¯å¾„çš„æ–¹å¼è¦å¥½ï¼Œå»ºè®®é‡‡ç”¨packageæ–¹å¼ï¼Œä¿è¯é¡¹ç›®ä»£ç ä¸€è‡´æ€§ å…¶ä¸­æœ¬ç¯‡æ–‡ç« æåˆ°çš„å…³äºjsä¸­å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä»¥åŠå‰ç«¯å·¥ç¨‹åŒ–åŒ…æ‹¬webpack,npm scriptä¼šåœ¨åç»­æ•´ç†åå‡ºç›¸å…³æ–‡ç« ï¼","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"dart","slug":"dart","permalink":"/tags/dart/"},{"name":"flutter","slug":"flutter","permalink":"/tags/flutter/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"äº‹ä»¶å¾ªç¯EventLoop(ä¸€)","slug":"jsåŸºç¡€å¤ä¹ ä¹‹äº‹ä»¶å¾ªç¯EventLoop(ä¸€)","date":"2020-06-02T15:15:42.000Z","updated":"2020-07-16T02:33:25.027Z","comments":true,"path":"2020/06/02/jsåŸºç¡€å¤ä¹ ä¹‹äº‹ä»¶å¾ªç¯EventLoop(ä¸€)/","link":"","permalink":"/2020/06/02/jsåŸºç¡€å¤ä¹ ä¹‹äº‹ä»¶å¾ªç¯EventLoop(ä¸€)/","excerpt":"","text":"è¿è¡Œæ—¶æ¦‚å¿µæ ˆ å‡½æ•°è°ƒç”¨å½¢æˆè‹¥å¹²å¸§ç»„æˆæ ˆå † å¯¹äºjsï¼Œå¯¹è±¡å¤„äºå †ä¸­(éç»“æ„åŒ–çš„å†…å­˜åŒºåŸŸ)é˜Ÿåˆ— jsè¿è¡Œæ—¶ï¼Œä¼šåŒ…å«ä¸€ä¸ªå¾…å¤„ç†æ¶ˆæ¯çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè€Œæ¯ä¸ªæ¶ˆæ¯ä¼šæœ‰å¯¹åº”å›è°ƒå‡½æ•°æ¥å¤„ç†æ¶ˆæ¯ï¼ åœ¨EventLoopçš„æŸä¸ªæ—¶åˆ»å¼€å§‹ï¼Œè¿è¡Œæ—¶ä¼˜å…ˆå¤„ç†å…ˆè¿›å…¥é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œç„¶åè¢«å¤„ç†åç§»é™¤é˜Ÿåˆ—ï¼Œä½œä¸ºå‚æ•°æ¥è°ƒç”¨ä¸ä¹‹å…³è”çš„å‡½æ•°ï¼Œå³ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼æ­¤å¤„åæ˜ äº†æ¶ˆæ¯é˜Ÿåˆ—ä¸æ‰§è¡Œæ ˆä¹‹é—´å½¼æ­¤éš”ç¦»è€Œåˆäº’ç›¸è”ç³»çš„å…³ç³»ï¼ å‡½æ•°å¤„ç†ä¼šå¤„ç†ç›´è‡³æ ˆä¸ºç©ºï¼Œç„¶åäº‹ä»¶å¾ªç¯ä¼šè¯»å–ä¸‹ä¸€ä¸ªä¿¡æ¯(æ³¨æ„ç†è§£è¿™ä¸€ç‚¹ï¼Œå¯¹äºåˆ¤æ–­äº‹ä»¶å¾ªç¯å¸¦æ¥çš„ç¨‹åºå—æ‰§è¡Œå…ˆåé¡ºåºé—®é¢˜æœ‰å¾ˆå¤§å¸®åŠ©)äº‹ä»¶å¾ªç¯ while (queue.waitForMessage()) { queue.processNextMessage(); } ç±»ä¼¼äºå¦‚æ­¤è°ƒç”¨ æ‰§è¡Œè‡³å®Œæˆ æ¯ä¸ªæ¶ˆæ¯å®Œæ•´çš„æ‰§è¡Œåï¼Œæ‰§è¡Œå…¶å®ƒæ¶ˆæ¯* å®ƒå½“ä¸€ä¸ªå‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œä¸ä¼šè¢«æŠ¢å ï¼ŒåŒæ—¶åªæœ‰åœ¨å®ƒè¿è¡Œç»“æŸä¹‹åæ‰èƒ½è¿è¡Œå…¶å®ƒä»£ç ï¼Œè¿™ä¸Cè¯­è¨€ä¸åŒï¼Œå¦‚å¦‚æœå‡½æ•°åœ¨çº¿ç¨‹ä¸­è¿è¡Œï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«ç»ˆæ­¢,ç„¶ååœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œå…¶å®ƒä»£ç ï¼ ç¼ºç‚¹åœ¨äºå½“ä¸€ä¸ªæ¶ˆæ¯å ç”¨å¤ªå¤šæ—¶é—´æ¥å¤„ç†æ—¶ï¼Œwebåº”ç”¨ä¼šæ— æ³•å¤„ç†ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œå› æ­¤éœ€è¦å‡å°‘å•ç‹¬å¤„ç†æ—¶é—´ï¼Œæˆ–æ˜¯åˆ†å‰²å¤„ç†å¤šä¸ªå­æ¶ˆæ¯ï¼ æ·»åŠ æ¶ˆæ¯ äº‹ä»¶å‘ç”Ÿå¹¶ä¸”æœ‰äº‹ä»¶ç›‘å¬å™¨ç»‘å®šåœ¨è¯¥äº‹ä»¶ä¸Šæ—¶ï¼Œä¼šæŠŠä¸€ä¸ªæ¶ˆæ¯æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼æ— äº‹ä»¶ç›‘å¬å™¨ï¼Œæ¶ˆæ¯ä¼šæ¶ˆå¤± ä¾‹å¦‚ä¸€ä¸ªç‚¹å‡»äº‹ä»¶å¤„ç†å™¨çš„å…ƒç´ è¢«ç‚¹å‡»ï¼Œä¼šåƒå…¶å®ƒäº‹ä»¶ä¸€æ ·äº§ç”Ÿä¸€ä¸ªç±»ä¼¼çš„æ¶ˆæ¯ï¼ setTimeOutå®é™…ä¸Šå°±åŒ…å«äº†ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¶ˆæ¯ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå‚æ•°ååº”çš„å»¶è¿Ÿæ—¶é—´ä¸ä¸€å®šæ˜¯çœŸå®çš„ï¼Œè€Œæ˜¯è¦çœ‹æ¶ˆæ¯é˜Ÿåˆ—ä¸­æœ‰æ²¡æœ‰æ­£åœ¨å¤„ç†çš„æ¶ˆæ¯ï¼Œè‹¥æœ‰ï¼Œåˆ™éœ€è¦ç­‰å¾…å¤„ç†å®Œæ¯•ï¼Œç„¶åä¼šå°†æ¶ˆæ¯æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼ å¦‚æœé˜Ÿåˆ—æ— æ¶ˆæ¯å¹¶ä¸”æ ˆä¹Ÿä¸ºç©ºï¼Œåˆ™è¿™æ®µå»¶è¿Ÿè¿‡åï¼Œä¼šé©¬ä¸Šå¤„ç†æ¶ˆæ¯ï¼æ°¸ä¸é˜»å¡ jsäº‹ä»¶å¾ªç¯æ¨¡å‹ä½¿å¾—ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼Œå®ƒæ°¸ä¸é˜»å¡ï¼å¤„ç†I/Oé€šå¸¸é€šè¿‡äº‹ä»¶å’Œå›è°ƒæ¥æ‰§è¡Œï¼æ‰€ä»¥å½“ä¸€ä¸ªåº”ç”¨æ­£ç­‰å¾…ä¸€ä¸ª IndexedDB æŸ¥è¯¢è¿”å›æˆ–è€…ä¸€ä¸ª XHR è¯·æ±‚è¿”å›æ—¶ï¼Œå®ƒä»ç„¶å¯ä»¥å¤„ç†å…¶å®ƒäº‹æƒ…ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]},{"title":"javascriptçš„å†…å­˜ç®¡ç†","slug":"jsåŸºç¡€å¤ä¹ ä¹‹å†…å­˜ç®¡ç†","date":"2020-05-31T06:47:24.000Z","updated":"2020-07-16T02:33:18.115Z","comments":true,"path":"2020/05/31/jsåŸºç¡€å¤ä¹ ä¹‹å†…å­˜ç®¡ç†/","link":"","permalink":"/2020/05/31/jsåŸºç¡€å¤ä¹ ä¹‹å†…å­˜ç®¡ç†/","excerpt":"","text":"å†…å­˜ç”Ÿå‘½å‘¨æœŸ åˆ†é…ä½ æ‰€éœ€è¦çš„å†…å­˜ ä½¿ç”¨åˆ†é…åˆ°çš„å†…å­˜è¯»å†™ ä¸éœ€è¦æ—¶å°†å…¶é‡Šæ”¾\\å½’è¿˜ javascriptçš„å†…å­˜åˆ†é… å€¼åˆå§‹åŒ– å‡½æ•°è°ƒç”¨ ä½¿ç”¨å€¼ å¯¹åˆ†é…å†…å­˜è¿›è¡Œè¯»å–å’Œå†™å…¥çš„æ“ä½œï¼Œè¯»å–å’Œå†™å…¥å¯èƒ½æ˜¯å†™å…¥ä¸€ä¸ªå˜é‡æˆ–è€…ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ï¼Œä¼ é€’å‡½æ•°å‚æ•° ä¸éœ€è¦æ—¶é‡Šæ”¾ åƒåœ¾å›æ”¶å™¨è·Ÿè¸ªå†…å­˜åˆ†é…å’Œä½¿ç”¨ï¼Œå½“åˆ†é…å†…å­˜ä¸ä½¿ç”¨æ—¶è‡ªåŠ¨é‡Šæ”¾ï¼è¿‘ä¼¼è¿‡ç¨‹ï¼Œæ— æ³•åˆ¤å®š åƒåœ¾å›æ”¶ å¼•ç”¨ åœ¨å†…å­˜ç®¡ç†çš„environmentä¸­ï¼Œä¸€ä¸ªå¯¹è±¡å¦‚æœæœ‰è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„æƒé™ï¼Œå°±å«ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼å¯¹è±¡å¯¹å®ƒåŸå‹çš„å¼•ç”¨(éšå¼å¼•ç”¨)ï¼Œå¯¹å®ƒå±æ€§çš„å¼•ç”¨(æ˜¾å¼å¼•ç”¨)ï¼ å¯¹è±¡åŒ…æ‹¬å‡½æ•°ä½œç”¨åŸŸ(å…¨å±€è¯æ³•ä½œç”¨åŸŸ) å¼•ç”¨è®¡æ•°åƒåœ¾æ”¶é›† æœ€åˆçº§çš„åƒåœ¾æ”¶é›†ç®—æ³• å¯¹è±¡æ˜¯å¦ä¸å†éœ€è¦-&gt;å¯¹è±¡æœ‰æ²¡æœ‰è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œå¦‚æœä¸º0å¼•ç”¨ï¼Œå¯¹è±¡è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ é™åˆ¶ï¼šå¾ªç¯å¼•ç”¨ æ ‡è®°-æ¸…é™¤ç®—æ³• å¯¹è±¡æ˜¯å¦ä¸å†éœ€è¦-&gt;å¯¹è±¡æ˜¯å¦å¯ä»¥è·å¾— å®šæœŸä»rootå¯¹è±¡-&gt;rootå¼•ç”¨çš„å¯¹è±¡-&gt;â€¦ å¯ä»¥è·å¾—æ‰€æœ‰å¯è·å¾—çš„å¯¹è±¡å’Œæ”¶é›†æ‰€æœ‰ä¸å¯è·å¾—çš„å¯¹è±¡ æœ‰0å¼•ç”¨çš„å¯¹è±¡æ€»æ˜¯ä¸å¯è·å¾—çš„ï¼Œä½†åä¹‹ä¸ä¸€å®šï¼Œå¦‚å¾ªç¯å¼•ç”¨(å‡½æ•°å†…éƒ¨) å‡½æ•°è°ƒç”¨è¿”å›ä¹‹åï¼Œå¯¹è±¡ä»å…¨å±€ä½œç”¨åŸŸä¸‹æ— æ³•è·å¾—ï¼Œæ‰€ä»¥å®šæœŸä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶åˆ°ï¼ é™åˆ¶ï¼šæ— æ³•ä»æ ¹å¯¹è±¡æŸ¥è¯¢åˆ°çš„å¯¹è±¡ ç®€åŒ–å®šä¹‰ä¸€å®šæœ‰é™åˆ¶","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"/tags/javascript/"}],"keywords":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"/categories/Webå‰ç«¯/"}]}]}